(window.webpackJsonp=window.webpackJsonp||[]).push([["vpn"],{1677:function(t,e,n){"use strict";n("1d5d")},"1d5d":function(t,e,n){},2350:function(t,e,n){var a=n("c9d8"),r=n("3685"),i=n("57d6");t.exports=function(t,e,n){var s,o;return i&&a(s=e.constructor)&&s!==n&&r(o=s.prototype)&&o!==n.prototype&&i(t,o),t}},"2f41":function(t,e,n){var a=n("2a62").f;t.exports=function(t,e,n){n in t||a(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})}},"2f7a":function(t,e,n){var a=n("c245"),r=n("cfb8"),i=n("5bef"),s=n("4338"),o=r.WebAssembly,l=7!==Error("e",{cause:7}).cause,exportGlobalErrorCauseWrapper=function(t,e){var n={};n[t]=s(t,e,l),a({global:!0,constructor:!0,arity:1,forced:l},n)},exportWebAssemblyErrorCauseWrapper=function(t,e){if(o&&o[t]){var n={};n[t]=s("WebAssembly."+t,e,l),a({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:l},n)}};exportGlobalErrorCauseWrapper("Error",(function(t){return function Error(e){return i(t,this,arguments)}})),exportGlobalErrorCauseWrapper("EvalError",(function(t){return function EvalError(e){return i(t,this,arguments)}})),exportGlobalErrorCauseWrapper("RangeError",(function(t){return function RangeError(e){return i(t,this,arguments)}})),exportGlobalErrorCauseWrapper("ReferenceError",(function(t){return function ReferenceError(e){return i(t,this,arguments)}})),exportGlobalErrorCauseWrapper("SyntaxError",(function(t){return function SyntaxError(e){return i(t,this,arguments)}})),exportGlobalErrorCauseWrapper("TypeError",(function(t){return function TypeError(e){return i(t,this,arguments)}})),exportGlobalErrorCauseWrapper("URIError",(function(t){return function URIError(e){return i(t,this,arguments)}})),exportWebAssemblyErrorCauseWrapper("CompileError",(function(t){return function CompileError(e){return i(t,this,arguments)}})),exportWebAssemblyErrorCauseWrapper("LinkError",(function(t){return function LinkError(e){return i(t,this,arguments)}})),exportWebAssemblyErrorCauseWrapper("RuntimeError",(function(t){return function RuntimeError(e){return i(t,this,arguments)}}))},4338:function(t,e,n){"use strict";var a=n("2fb7"),r=n("6bdc"),i=n("9f9e"),s=n("0f09"),o=n("57d6"),l=n("af89"),p=n("2f41"),u=n("2350"),c=n("7e02"),d=n("c67e"),h=n("4dbb"),v=n("8071"),m=n("cc67"),f=n("2b5d");t.exports=function(t,e,n,b){var g=b?2:1,_=t.split("."),I=_[_.length-1],P=a.apply(null,_);if(P){var D=P.prototype;if(!f&&r(D,"cause")&&delete D.cause,!n)return P;var y=a("Error"),S=e((function(t,e){var n=c(b?e:t,void 0),a=b?new P(t):new P;return void 0!==n&&i(a,"message",n),v&&i(a,"stack",h(a.stack,2)),this&&s(D,this)&&u(a,this,S),arguments.length>g&&d(a,arguments[g]),a}));if(S.prototype=D,"Error"!==I?o?o(S,y):l(S,y,{name:!0}):m&&"stackTraceLimit"in P&&(p(S,P,"stackTraceLimit"),p(S,P,"prepareStackTrace")),l(S,P),!f)try{D.name!==I&&i(D,"name",I),D.constructor=S}catch(t){}return S}}},"4dbb":function(t,e,n){var a=n("2658"),r=Error,i=a("".replace),s=String(r("zxcasd").stack),o=/\n\s*at [^:]*:[^\n]*/,l=o.test(s);t.exports=function(t,e){if(l&&"string"==typeof t&&!r.prepareStackTrace)for(;e--;)t=i(t,o,"");return t}},"57d6":function(t,e,n){var a=n("2658"),r=n("189a"),i=n("78a0");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=a(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function setPrototypeOf(n,a){return r(n),i(a),e?t(n,a):n.__proto__=a,n}}():void 0)},"5bef":function(t,e,n){var a=n("997e"),r=Function.prototype,i=r.apply,s=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(a?s.bind(i):function(){return s.apply(i,arguments)})},"78a0":function(t,e,n){var a=n("c9d8"),r=String,i=TypeError;t.exports=function(t){if("object"==typeof t||a(t))return t;throw i("Can't set "+r(t)+" as a prototype")}},"7bb0":function(t,e,n){var a=n("d4c7"),r=n("c9d8"),i=n("0332"),s=n("78fe")("toStringTag"),o=Object,l="Arguments"==i(function(){return arguments}());t.exports=a?i:function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=o(t),s))?n:l?i(e):"Object"==(a=i(e))&&r(e.callee)?"Arguments":a}},"7e02":function(t,e,n){var a=n("9193");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:a(t)}},8071:function(t,e,n){var a=n("8ba4"),r=n("ac87");t.exports=!a((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",r(1,7)),7!==t.stack)}))},"8d51":function(t,e,n){},9193:function(t,e,n){var a=n("7bb0"),r=String;t.exports=function(t){if("Symbol"===a(t))throw TypeError("Cannot convert a Symbol value to a string");return r(t)}},9901:function(t,e,n){"use strict";n.r(e);var a=n("d2db"),r=n("7736"),i=n("710d"),s=(n("4e3f"),n("b90b")),o={name:"v-input-group",mixins:[n("45ce").a],props:{value:{type:String,default:""},type:{type:String,default:""},name:String,maxlength:Number,width:[String,Number],disabled:{type:Boolean,default:!1},size:{type:String,default:"M"},inputNums:Number,splitter:String,allow:RegExp},computed:{inputGroupValue(){return this.value.split(this.inputSplitter)},inputGroups(){let t=[];for(let e=0;e<this.inputNumber;e++)t.push({index:e,value:this.inputGroupValue[e],width:100/this.inputNumber+"%"});return t},inputWidth(){return this.width?"number"==typeof this.width?this.width+"px":this.width:""}},data:()=>({inputMaxLen:0,inputSplitter:"",inputNumber:0,isFocus:!1,focusIndex:0,isChanged:!1,isHover:!1}),methods:{handlerInput(){let t=this.getValue();this.inputGroupValue.join(this.inputSplitter)!=t&&this.$emit("input",t)},handlerChange(){this.isChanged=!0},handlerKeydown(t){let e=t.target,n=t.keyCode,a=Object(s.c)(e);if(8===n){if(0===a){if((window.getSelection().toString()||"").length>0)return;return this.setInputFocus(t,"prev"),void t.preventDefault()}}else 39==n||40==n?a===e.value.length&&this.setInputFocus(t,"next"):37!=n&&38!=n||0===a&&this.setInputFocus(t,"prev")},handlerKeyUp(t){let e=t.target,n=t.char||t.key,a=t.keyCode,r=Object(s.c)(e);8!==a&&9!==a&&39!=a&&40!=a&&37!=a&&38!=a&&(n===this.inputSplitter?e.value.length&&this.setInputFocus(t,"next"):this.inputMaxLen===e.value.length&&r===this.inputMaxLen&&this.setInputFocus(t,"next"))},setInputFocus(t,e){let n=this.inputNumber-1,a=this.focusIndex,r=this.$refs.input;"next"===e?a!==n&&(r[a+1].focus(),Object(s.h)(r[a+1].getInput(),0),t.preventDefault()):0!==a&&(r[a-1].focus(),Object(s.h)(r[a-1].getInput(),r[a-1].value.length),t.preventDefault())},getValue(){let t=this.$refs.input,e=[],n=new RegExp("(\\"+this.inputSplitter+")+$","g");for(let n=0;n<t.length;n++)e.push(t[n].getNativeInputValue()||"");return e.join(this.inputSplitter).replace(n,"")},handlerFocus(t){this.isFocus=!0,this.focusIndex=+t.target.parentNode.getAttribute("data-index"),this.$emit("focus")},handlerBlur(){this.isFocus=!1,this.$emit("blur")}},watch:{type:{handler(t){"ip"===t?(this.inputSplitter=".",this.inputMaxLen=3,this.inputNumber=4,this.inputAllow=/[0-9]/g):"mac"===t?(this.inputSplitter=":",this.inputMaxLen=2,this.inputNumber=6,this.inputAllow=/[0-9a-z]/gi):(this.inputSplitter=this.splitter,this.inputMaxLen=this.maxlength,this.inputNumber=this.inputNums,this.inputAllow=this.allow)},immediate:!0},isFocus:{handler(t){!t&&this.isChanged&&(this.$emit("change",this.getValue()),this.isChanged=!1),this.elFormItem&&!this.elFormItem.ignore&&this.$dispatch("v-form-item","form:error",!t)},immediate:!0}}},l=n("0b56"),p=Object(l.a)(o,(function render(){var t=this,e=t._self._c;return e("div",{staticClass:"v-input-group",style:{width:t.inputWidth}},[e("div",{staticClass:"input-group--content",class:{"is-hover":t.isHover,"is-focus":t.isFocus,"is-disabled":t.isDisabled},on:{mouseover:function(e){t.isHover=!0},mouseout:function(e){t.isHover=!1}}},t._l(t.inputGroups,(function(n){return e("span",{key:n.index,staticClass:"v-input-group__item"},[e("v-input",{ref:"input",refInFor:!0,staticClass:"v-input--no-border",attrs:{maxlength:t.inputMaxLen,"data-index":n.index,allow:t.inputAllow,disabled:t.isDisabled,"is-child":"",width:n.width,name:t.name,size:t.size},on:{focus:t.handlerFocus,blur:t.handlerBlur,input:t.handlerInput,change:t.handlerChange,keydown:t.handlerKeydown,keyup:t.handlerKeyUp},scopedSlots:t._u([{key:"suffix",fn:function(){return[n.index!=t.inputGroups.length-1?e("div",{staticClass:"v-input-group__splitter"},[e("span",[t._v(t._s(t.inputSplitter))])]):t._e()]},proxy:!0}],null,!0),model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"item.value"}})],1)})),0)])}),[],!1,null,null,null).exports;const{mapState:u,mapActions:c}=Object(r.a)("lan");var d={components:{vInputGroup:p},mixins:[a.a],data(){return{rules:{startIP:[this.checkNet,this.checkDhcpRange]},dhcpPrefix:"",currentStartIP:"",startIP:"",endIP:"",dhcpRangeStart:1,dhcpRangeEnd:255}},watch:{"formData.startIP":{handler(t){t&&(this.startIP=t.split(".")[3],this.$valid.ip.all(t)||(this.currentStartIP=t))},deep:!0,immediate:!0},"formData.endIP":{handler(t){t&&(this.endIP=t.split(".")[3])},deep:!0,immediate:!0}},computed:{...u({vpnClientIp:t=>t.vpnClientIp,lanIP:t=>t.lanIP,lanMask:t=>t.lanMask,iptvWanIp:t=>t.iptvWanIp,iptvWanMask:t=>t.iptvWanMask,serverIp:t=>t.serverIp,vlan2Ip:t=>t.vlan2Ip,vlan2Mask:t=>t.vlan2Mask,wanIp:t=>t.wanIp,wanMask:t=>t.wanMask,guestIp:t=>t.guestIp,guestMask:t=>t.guestMask}),ipPrefix(){return this.currentStartIP&&this.currentStartIP.split(".").slice(0,3).join(".")+"."}},created(){this.getAllIpData()},methods:{...c(["getAllIpData"]),checkDhcpRange(){let t=~~this.startIP,e=~~this.endIP;return t>=e?_("The end IP address must be greater than the start IP address"):t+7>e?_("The IP address pool should contain at least 8 IP addresses"):e<=1||e>=254?_("The last digit of the IP address must be a value from %s to %s",[1,254]):void 0},checkNet(){let t=this.formData,e=_("Start IP address"),n="";return this.$valid.ip.all(t.startIP)?this.$valid.ip.all(t.startIP):Object(i.d)(t.startIP,t.pptpSvrMask)?Object(i.d)(t.startIP,t.pptpSvrMask):1==~~this.startIP?_("The last digit of the start IP address cannot be 1"):([[this.wanIp,this.wanMask,e,_("WAN IP Address")],[this.lanIP,this.lanMask,e,_("LAN IP Address")],[this.iptvWanIp,this.iptvWanMask,e,_("IPTV IP address")],[this.vlan2Ip,this.vlan2Mask,e,_("Dual Access IP")],[this.guestIp,this.guestMask,e,_("Guest IP Address")],[this.serverIp,t.pptpSvrMask,e,_("Dual Access Server IP")]].forEach(e=>{!n&&e[0]&&(n=Object(i.s)(t.startIP,t.pptpSvrMask,...e))}),n)},beforeSubmit(t){return t.serverEn&&(t.endIP=this.ipPrefix+this.endIP),delete t.dhcpRange,t},changeVpnServer(t){t||this.$nextTick(()=>{this.$emit("submit")})}}},h=Object(l.a)(d,(function render(){var t=this,e=t._self._c;return e("v-form",{ref:t.name,attrs:{rules:t.rules}},[e("v-form-item",{attrs:{label:t._("PPTP Server"),prop:"serverEn"}},[e("v-switch",{on:{change:t.changeVpnServer},model:{value:t.formData.serverEn,callback:function(e){t.$set(t.formData,"serverEn",e)},expression:"formData.serverEn"}})],1),e("collapse-transition",[t.formData.serverEn?e("div",[e("v-form-item",{attrs:{label:t._("Address Pool Range"),prop:"startIP"}},[e("v-input-group",{staticClass:"ver-align-top",staticStyle:{display:"inline-block"},attrs:{type:"ip"},model:{value:t.formData.startIP,callback:function(e){t.$set(t.formData,"startIP",e)},expression:"formData.startIP"}}),t._v(" - "),e("div",{staticClass:"inline-block ver-align-top"},[t._v(t._s(t.ipPrefix))]),e("v-input",{staticClass:"ver-align-top",attrs:{maxlength:3,width:"48px",allow:/[0-9]/g},model:{value:t.endIP,callback:function(e){t.endIP=e},expression:"endIP"}})],1),e("v-form-item",{attrs:{label:t._("MPPE Encryption"),prop:"mppeEn"}},[e("v-switch",{model:{value:t.formData.mppeEn,callback:function(e){t.$set(t.formData,"mppeEn",e)},expression:"formData.mppeEn"}})],1)],1):t._e()])],1)}),[],!1,null,null,null).exports,v=n("05af");const{mapState:m,mapActions:f}=Object(r.a)("lan");var b={mixins:[a.a],data(){return{rules:{username:Object(i.e)(v.h),password:Object(i.e)(v.h),domain:[Object(i.e)(v.j),this.checkDomain]},typeOption:[{value:"l2tp",label:"L2TP"},{value:"pptp",label:"PPTP"}]}},computed:{...m({iptvWanIp:t=>t.iptvWanIp,wanIp:t=>t.wanIp}),ipLabel(){return"pptp"==this.formData.currentVpnType?_("Obtained PPTP Address"):_("Obtained L2TP Address")},isCurrentType(){return this.formData.currentVpnType==this.formData.vpnType},currentStatus(){if(!this.isCurrentType)return _("Disconnected");return{connected:_("Connected"),disconnected:_("Disconnected"),connecting:_("Connecting…")}[this.formData.connectStatus]},showSuccess(){return"connected"==this.formData.connectStatus},statusClass(){return this.showSuccess&&this.isCurrentType?"success-text":""},isConnecting(){return"connecting"==this.formData.connectStatus}},mounted(){this.getAllIpData()},methods:{...f(["getAllIpData"]),checkDomain(){return this.wanIp&&this.wanIp==this.formData.domain?_("The IP address and the WAN IP address cannot be the same"):this.iptvWanIp&&this.iptvWanIp==this.formData.domain?_("IP address and IPTV IP address cannot be the same"):void 0},changeVpnClient(t){t||this.$nextTick(()=>{this.$emit("submit")})}}},g=(n("1677"),Object(l.a)(b,(function render(){var t=this,e=t._self._c;return e("v-form",{ref:t.name,attrs:{rules:t.rules}},[e("v-form-item",{attrs:{label:t._("PPTP/L2TP Client"),prop:"clientEn"}},[e("v-switch",{on:{change:t.changeVpnClient},model:{value:t.formData.clientEn,callback:function(e){t.$set(t.formData,"clientEn",e)},expression:"formData.clientEn"}})],1),e("collapse-transition",[t.formData.clientEn?e("div",[e("v-form-item",{attrs:{label:t._("Client Type"),prop:"vpnType"}},[e("v-select",{attrs:{options:t.typeOption},model:{value:t.formData.vpnType,callback:function(e){t.$set(t.formData,"vpnType",e)},expression:"formData.vpnType"}})],1),e("v-form-item",{attrs:{label:t._("Server IP/Domain Name"),prop:"domain"}},[e("v-input",{attrs:{maxlength:63},model:{value:t.formData.domain,callback:function(e){t.$set(t.formData,"domain",e)},expression:"formData.domain"}})],1),e("v-form-item",{attrs:{label:t._("User Name"),prop:"username"}},[e("v-input",{attrs:{maxlength:128},model:{value:t.formData.username,callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),e("v-form-item",{attrs:{label:t._("Password"),prop:"password"}},[e("v-input",{attrs:{maxlength:128},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),e("v-form-item",{attrs:{label:t._("Status")}},[e("div",{class:t.statusClass},[t.isConnecting?e("span",{staticClass:"v-icon-loading"}):t._e(),e("span",[t._v(t._s(t.currentStatus))])])]),t.isCurrentType&&t.formData.clientIP&&t.showSuccess?e("v-form-item",{attrs:{label:t.ipLabel}},[t._v(" "+t._s(t.formData.clientIP)+" ")]):t._e()],1):t._e()])],1)}),[],!1,null,null,null).exports),I=n("f171"),P={mixins:[n("f07d").a],props:{lanInfo:{type:Object,default:()=>({})}},data(){return{rules:{username:[Object(i.e)(I.c),this.checkName],password:Object(i.e)(I.c)}}},computed:{},methods:{checkName(){if(this.tableData.some(({username:t,id:e})=>t==this.formData.username&&e!==this.formData.id))return _("The user name already exists")}}},D=Object(l.a)(P,(function render(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{title:t.showModaltitle,width:628,rules:t.rules},on:{confirm:t.submit},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[e("v-form",{ref:"form",attrs:{rules:t.rules,dialogCenter:!0}},[e("v-form-item",{attrs:{label:t._("User Name"),prop:"username"}},[e("v-input",{attrs:{maxlength:128},model:{value:t.formData.username,callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),e("v-form-item",{attrs:{label:t._("Password"),prop:"password"}},[e("v-input",{attrs:{maxlength:128},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1)],1)],1)}),[],!1,null,null,null).exports,y=n("719d");const S={id:"",username:"",password:"",enable:!0,connectStatus:!1};var x={components:{pptpServerDialog:D},mixins:[y.a],props:{tableData:{type:Array,default:()=>[]}},data:()=>({name:"vpnAccountList",maxNum:8,formData:Object(i.e)(S),formDefault:Object(i.e)(S),tableItem:[{key:"username",label:_("User Name")},{key:"password",label:_("Password")}]}),filters:{isOnline:t=>"true"==t?_("Online"):_("Offline")},methods:{changeStatus(t){t.enable=!t.enable,this.currentItem=t;let e=Object.assign(this.tableData[this.getCurrentOptionIndex()],{enable:t.enable});this.tableData.splice(this.getCurrentOptionIndex(),1,e),this.submit()},getSubData(){return Object(i.e)(this.tableData)},checkForm:()=>!0,submitAdd(t){"id"==this.tableKey&&(t.id=this.tableData.length),t.enable=!0,this.tableData.push(t),this.submit()}}},k=(n("d7ae"),Object(l.a)(x,(function render(){var t=this,e=t._self._c;return e("div",{staticClass:"v-page-table pptp-server"},[e("div",{staticClass:"v-page-table__title"},[t._v(t._s(t._("PPTP Account")))]),e("div",{staticClass:"v-page-table__add-icon icon-add2",on:{click:t.addListEvent}}),e("v-table",{ref:"table",attrs:{data:t.tableData,stripe:""}},[t._l(t.tableItem,(function(t){return e("v-table-col",{key:t.key,attrs:{prop:t.key,label:t.label,isTooltip:!0,align:"center"}})})),e("v-table-col",{attrs:{prop:"connectStatus",label:t._("Connection Status"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("span",{staticClass:"pptp-server__dot",class:{"pptp-server__dot--success":"true"==n.connectStatus}}),e("span",[t._v(t._s(t._f("isOnline")(n.connectStatus)))])]}}])}),e("v-table-col",{attrs:{prop:"option",label:t._("Operation"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:n.enable?t._("Click to Disable"):t._("Click to Enable"),expression:"\n            rowData.enable ? _('Click to Disable') : _('Click to Enable')\n          "}],staticClass:"v-page-table__icon",class:{"v-icon-ok-line":n.enable,"v-icon-disable":!n.enable},on:{click:function(e){return t.changeStatus(n)}}}),e("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t._("Edit"),expression:"_('Edit')"}],staticClass:"icon-edit2 v-page-table__icon",on:{click:function(e){return t.editListEvent(n)}}}),e("v-popconfirm",{ref:"popconfirm",attrs:{icon:"v-icon-remind-plane popconfirm-custom-icon",title:t._("Do you want to delete the account?"),clickOutsideToHide:!0},on:{confirm:function(e){return t.submitDel(n)}}},[e("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t._("Delete"),expression:"_('Delete')"}],staticClass:"icon-delete v-page-table__icon",attrs:{slot:"reference"},slot:"reference"})])]}}])})],2),e("pptp-server-dialog",{ref:"dialog",attrs:{option:t.option,formData:t.formData,tableData:t.tableData},on:{submitAdd:t.submitAdd,submitEdit:t.submitEdit}})],1)}),[],!1,null,null,null).exports),w={props:{vpnOnlineList:{type:Array,default:()=>[]}},data(){return{tableOnlineItem:[{key:"username",label:_("User Name")},{key:"dialIP",label:_("Dial-In IP Address")},{key:"clientIP",label:_("Assigned IP Address")},{key:"onlineTime",label:_("Uptime"),handlerData:this.formatTime}]}},methods:{formatTime:(t,e)=>Object(i.h)(e[t])}},C={name:"vpn",components:{vpnServer:h,vpnClient:g,pptpServer:k,pptpOnlineList:Object(l.a)(w,(function render(){var t=this._self._c;return t("div",{staticClass:"v-page-table"},[t("div",{staticClass:"v-page-table__title"},[this._v(this._s(this._("Online PPTP User")))]),t("v-table",{ref:"table",attrs:{data:this.vpnOnlineList,stripe:"",emptyText:this._("No online client")}},this._l(this.tableOnlineItem,(function(e){return t("v-table-col",{key:e.key,attrs:{prop:e.key,label:e.label,align:"center",format:e.handlerData}})})),1)],1)}),[],!1,null,null,null).exports},data:()=>({pageTitle:_("VPN"),pageTips:_("VPN is a virtual private network built on the internet. It uses the tunneling technology to create a virtual private tunnel between two points, ensuring communication data security."),isloading:!0,isPptpL2tp:!1,currentTab:"server",vpnOnlineList:[],vpnAccountList:[],vpnServer:{},vpnClient:{}}),created(){this.updateData(),this.$on("update",this.updateData),this.setTimer(!0)},computed:{serverEn(){return!!this.vpnServer.serverEn},showClientFooter(){return!!this.vpnClient.clientEn}},methods:{init(){this.updateData()},updateData(){this.$getData({modules:"vpnServer,vpnAccountList,vpnOnlineList,vpnClient,wanCfg"}).then(t=>{this.vpnServer=Object(i.e)(t.vpnServer),this.vpnClient=Object(i.e)(t.vpnClient),this.vpnClient.currentVpnType=this.vpnClient.vpnType,this.vpnAccountList=Object(i.e)(t.vpnAccountList),Object(i.a)(this.vpnAccountList),this.vpnOnlineList=Object(i.e)(t.vpnOnlineList),this.isPptpL2tp=t.wanCfg.wanType==v.u.PPTP||t.wanCfg.wanType==v.u.L2TP,this.isloading=!1})},updateListData(){this.$getData({modules:"vpnAccountList,vpnOnlineList"}).then(t=>{this.vpnAccountList=Object(i.e)(t.vpnAccountList),Object(i.a)(this.vpnAccountList),this.vpnOnlineList=Object(i.e)(t.vpnOnlineList)})},serverSubmit(){this.$refs.serverPage.submitForm()},clientSubmit(){this.$refs.clientPage.submitForm()},pptpServerSubmit(){this.vpnAccountList.forEach(t=>{delete t.id}),this.$postModule({vpnAccountList:this.vpnAccountList},_("Saved successfully")).then(t=>{0==t.errCode&&this.updateListData()})},updateStatusData(){this.$getData({modules:"vpnClient,vpnOnlineList"}).then(t=>{this.vpnClient.connectStatus=t.vpnClient.connectStatus,this.vpnClient.clientIP=t.vpnClient.clientIP,this.vpnOnlineList=Object(i.e)(t.vpnOnlineList)})},setTimer(t){this.timer&&clearInterval(this.timer),t&&(this.timer=setInterval(this.updateStatusData,5e3))}},beforeDestroy(){this.setTimer(!1)}},O=Object(l.a)(C,(function render(){var t=this,e=t._self._c;return e("div",{staticClass:"vpn-set"},[e("v-page-title",{attrs:{title:t.pageTitle,tips:t.pageTips}}),e("v-loading",{attrs:{visible:t.isloading}}),t.isloading?t._e():e("v-tabs",{model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},[e("v-tab-pane",{attrs:{label:t._("PPTP Server"),value:"server"}},[e("v-page",{ref:"serverPage",attrs:{showFooter:t.serverEn},on:{init:t.init}},[e("vpn-server",{attrs:{formData:t.vpnServer,name:"vpnServer"},on:{submit:t.serverSubmit}})],1),t.serverEn?e("pptp-server",{attrs:{tableData:t.vpnAccountList},on:{submit:t.pptpServerSubmit}}):t._e(),t.serverEn?e("pptp-online-list",{attrs:{vpnOnlineList:t.vpnOnlineList}}):t._e()],1),e("v-tab-pane",{attrs:{label:t._("PPTP/L2TP Client"),value:"client",disabled:t.isPptpL2tp}},[e("v-page",{ref:"clientPage",attrs:{showFooter:t.showClientFooter},on:{init:t.init}},[e("vpn-client",{attrs:{formData:t.vpnClient,name:"vpnClient"},on:{submit:t.clientSubmit}})],1)],1)],1)],1)}),[],!1,null,null,null);e.default=O.exports},c67e:function(t,e,n){var a=n("3685"),r=n("9f9e");t.exports=function(t,e){a(e)&&"cause"in e&&r(t,"cause",e.cause)}},d4c7:function(t,e,n){var a={};a[n("78fe")("toStringTag")]="z",t.exports="[object z]"===String(a)},d7ae:function(t,e,n){"use strict";n("8d51")}}]);