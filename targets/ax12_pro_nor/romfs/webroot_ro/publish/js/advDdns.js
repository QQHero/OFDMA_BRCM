(window.webpackJsonp=window.webpackJsonp||[]).push([["advDdns"],{"8e84":function(t,e,s){"use strict";s("954f")},"954f":function(t,e,s){},e299:function(t,e,s){"use strict";s.r(e);var a=s("d2db"),n=s("eee3"),i=s("710d"),r={mixins:[a.a],data:()=>({rules:{username:[Object(i.e)(n.d)],password:[Object(i.e)(n.d)],serverIP:[Object(i.e)(n.a)]},serviceOptions:["oray.com",{value:"dyn.com/dns/",label:"dyn.com"},"no-ip.com","88ip.cn"]}),computed:{showDomain(){return"88ip.cn"!==this.formData.serviceName&&"oray.com"!==this.formData.serviceName},status(){return n.g[this.formData.connectStatus]},statusClass(){return{connected:"success-text",disconnected:"error-text"}[this.formData.connectStatus]||""},isConnecting(){return"connecting"==this.formData.connectStatus}},methods:{changeDdnsEn(t){t||this.$nextTick(()=>{this.$emit("submit")})},goSignUP(){window.open("http://www."+this.formData.serviceName,"_blank")}}},o=(s("8e84"),s("0b56")),d={components:{ddns:Object(o.a)(r,(function render(){var t=this,e=t._self._c;return e("div",{staticClass:"ddns-set"},[e("v-form",{ref:t.name,attrs:{rules:t.rules}},[e("v-form-item",{attrs:{label:"DDNS",prop:"ddnsEn"}},[e("v-switch",{on:{change:t.changeDdnsEn},model:{value:t.formData.ddnsEn,callback:function(e){t.$set(t.formData,"ddnsEn",e)},expression:"formData.ddnsEn"}})],1),e("collapse-transition",[t.formData.ddnsEn?e("div",[e("v-form-item",{attrs:{label:t._("ISP"),prop:"serviceName"}},[e("v-select",{staticClass:"inline-block",attrs:{options:t.serviceOptions},model:{value:t.formData.serviceName,callback:function(e){t.$set(t.formData,"serviceName",e)},expression:"formData.serviceName"}}),e("v-button",{staticClass:"inline-block register-btn",attrs:{type:"text"},on:{click:t.goSignUP}},[t._v(t._s(t._("Register Now")))])],1),e("v-form-item",{attrs:{label:t._("User Name"),prop:"username"}},[e("v-input",{attrs:{maxlength:128},model:{value:t.formData.username,callback:function(e){t.$set(t.formData,"username",e)},expression:"formData.username"}})],1),e("v-form-item",{attrs:{label:t._("Password"),prop:"password"}},[e("v-input",{attrs:{maxlength:128,"show-password":""},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),t.showDomain?e("v-form-item",{attrs:{label:t._("Domain Name"),prop:"serverIP"}},[e("v-input",{attrs:{maxlength:63},model:{value:t.formData.serverIP,callback:function(e){t.$set(t.formData,"serverIP",e)},expression:"formData.serverIP"}})],1):t._e(),e("v-form-item",{attrs:{label:t._("Connection Status")}},[e("div",{class:t.statusClass},[t.isConnecting?e("span",{staticClass:"v-icon-loading"}):t._e(),e("span",[t._v(t._s(t.status))])])])],1):t._e()])],1)],1)}),[],!1,null,null,null).exports},data:()=>({pageTitle:_("DDNS"),pageTips:_("Always map the WAN IP address of the router (a public IP address) to a fixed domain name, so that internet users can access the router through this domain name."),isloading:!0,ddnsCfg:{},timer:null}),created(){this.updateData()},computed:{saveMsg(){return"connected"==this.ddnsCfg.connectStatus?_("Disconnect"):_("Connect")}},methods:{init(){this.updateData()},submit(){this.$refs.page.submitForm()},updateData(){this.$getData({modules:"ddnsCfg"}).then(t=>{this.ddnsCfg=Object(i.e)(t.ddnsCfg),this.isloading=!1,this.setTimer(this.ddnsCfg.ddnsEn)})},updateStatusData(){this.$getData({modules:"ddnsCfg"}).then(t=>{this.ddnsCfg.connectStatus=t.ddnsCfg.connectStatus})},setTimer(t){this.timer&&clearInterval(this.timer),t&&(this.timer=setInterval(this.updateStatusData,2e3))}},beforeDestroy(){this.setTimer(!1)}},c=Object(o.a)(d,(function render(){var t=this._self._c;return t("div",{staticClass:"ddns-set"},[t("v-page-title",{attrs:{title:this.pageTitle,tips:this.pageTips}}),t("v-loading",{attrs:{visible:this.isloading}}),this.isloading?this._e():t("v-page",{ref:"page",attrs:{showFooter:this.ddnsCfg.ddnsEn},on:{init:this.init}},[t("ddns",{attrs:{name:"ddnsCfg",formData:this.ddnsCfg},on:{submit:this.submit}})],1)],1)}),[],!1,null,null,null);e.default=c.exports}}]);