(window.webpackJsonp=window.webpackJsonp||[]).push([["iptv"],{1054:function(t,a,e){"use strict";e.r(a);var i=e("d2db"),s=e("f171"),n=e("710d"),r={mixins:[i.a],inject:["showConfirm"],props:{rawData:{type:Object,default:()=>({})}},data(){return{vlanTypeOption:Object(n.e)(s.b),rules:{vlanId:[{type:"num",args:[2,4094]},this.checkIspTypeVlan]}}},computed:{isManual(){return"manual"==this.formData.vlanType},isUnifi(){return"unifi"==this.relativeData.ispType},isISPManual(){return"manual"==this.relativeData.ispType},isMaxis(){return"maxis"==this.relativeData.ispType||"maxis-special"==this.relativeData.ispType},showSetting(){return!this.isUnifi&&!this.isISPManual&&!this.isMaxis}},methods:{changeVlanType(){this.formData.vlanId=""},checkIspTypeVlan(){let t={"digi-tm":629,digi:1001,"digi-ct":150,"digi-tnb":1400,"west-biz":626,"west-home":623,"east-biz":601,"east-home":101};if(t[this.relativeData.area]&&t[this.relativeData.area]==this.formData.vlanId)return _("The VLAN ID must be different from the Internet VLAN ID of the current ISP type.")},beforeSubmit(t){return this.rawData.stbEn!=this.formData.stbEn||this.rawData.vlanType!=this.formData.vlanType&&this.formData.stbEn||"manual"==this.formData.vlanType&&this.rawData.vlanId!=this.formData.vlanId&&this.formData.stbEn?this.showConfirm(_("The device will reboot to make your configurations effective. Continue?")).then(()=>(this.$emit("reboot"),t)).catch(()=>!1):t}}},o=e("0b56"),l={components:{iptvSet:Object(o.a)(r,(function render(){var t=this,a=t._self._c;return a("div",[a("v-form",{ref:t.name,attrs:{rules:t.rules}},[t.showSetting?a("v-form-item",{attrs:{label:t._("Multicast"),prop:"igmpEn"}},[a("v-switch",{model:{value:t.formData.igmpEn,callback:function(a){t.$set(t.formData,"igmpEn",a)},expression:"formData.igmpEn"}}),a("div",{staticClass:"help-text"},[t._v(" "+t._s(t._("Once enabled, you can watch the multicast video source on the WAN side of the router from your client."))+" ")])],1):t._e(),a("v-form-item",{attrs:{label:"STB",prop:"stbEn"}},[a("v-switch",{attrs:{disabled:t.isISPManual||t.isMaxis},model:{value:t.formData.stbEn,callback:function(a){t.$set(t.formData,"stbEn",a)},expression:"formData.stbEn"}}),t.formData.stbEn?a("div",{staticClass:"help-text"},[t._v(" "+t._s(t._("Connect the IPTV STB to the IPTV port of the router."))+" ")]):t._e()],1),a("collapse-transition",[t.formData.stbEn&&t.showSetting?a("div",[a("v-form-item",{attrs:{prop:"vlanType",label:"VLAN"}},[a("v-select",{attrs:{options:t.vlanTypeOption},on:{change:t.changeVlanType},model:{value:t.formData.vlanType,callback:function(a){t.$set(t.formData,"vlanType",a)},expression:"formData.vlanType"}})],1),t.isManual?a("v-form-item",{attrs:{prop:"vlanId",label:t._("Custom")}},[t.isManual?a("v-input",{attrs:{maxlength:4,allow:/[0-9]/g},model:{value:t.formData.vlanId,callback:function(a){t.$set(t.formData,"vlanId",a)},expression:"formData.vlanId"}}):t._e()],1):t._e()],1):t._e()])],1)],1)}),[],!1,null,null,null).exports},data:()=>({pageTitle:_("IPTV"),pageTips:_("You can configure multicast and IPTV function here."),isloading:!0,iptvCfg:{},rawIptvCfg:{},wanCfg:{},rebootFlag:!1}),created(){this.updateData()},computed:{isISPManual(){return"manual"==this.wanCfg.ispType},isMaxis(){return"maxis"==this.wanCfg.ispType||"maxis-special"==this.wanCfg.ispType}},methods:{init(){this.rebootFlag?this.$dispatch("main-index","reboot"):this.updateData()},reboot(){this.rebootFlag=!0},updateData(){this.$getData({modules:"iptvCfg,wanCfg"}).then(t=>{this.iptvCfg=Object(n.e)(t.iptvCfg),this.rawIptvCfg=Object(n.e)(t.iptvCfg),this.wanCfg=Object(n.e)(t.wanCfg),this.isloading=!1})}}},p=Object(o.a)(l,(function render(){var t=this,a=t._self._c;return a("div",{staticClass:"iptv-set"},[a("v-page-title",{attrs:{title:t.pageTitle,tips:t.pageTips}}),a("v-loading",{attrs:{visible:t.isloading}}),t.isloading?t._e():a("v-page",{attrs:{showFooter:!t.isISPManual&&!t.isMaxis},on:{init:t.init}},[a("iptv-set",{attrs:{formData:t.iptvCfg,name:"iptvCfg",relativeData:t.wanCfg,rawData:t.rawIptvCfg},on:{reboot:t.reboot}})],1)],1)}),[],!1,null,null,null);a.default=p.exports}}]);