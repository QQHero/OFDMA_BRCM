(window.webpackJsonp=window.webpackJsonp||[]).push([["wifiAdvance"],{"155a":function(e,i,t){"use strict";t.r(i);t("4e3f");var a=t("d2db"),n=t("710d"),l=t("539b"),s={mixins:[a.a],props:{isDisabled:Boolean,wifiChkHz:String},data:()=>({ruleForm:{countryCode:"",wifiMode:"",wifiChannel:"",wifiChannelCurrent:"",wifiBandwidth:"",wifiBandwidthCurrent:"",wifiMode_5g:"",wifiChannel_5g:"",wifiChannelCurrent_5g:"",wifiBandwidth_5g:"",wifiBandwidthCurrent_5g:"",wifiChannelList:[],wifiChannelList_5g:{},wifiMode_6g:"",wifiChannel_6g:"",wifiChannelCurrent_6g:"",wifiBandwidth_6g:"",wifiBandwidthCurrent_6g:"",wifiChannelList_6g:{},enablePsc:!1},countryOptions:Object(n.e)(l.l),channelOptions:[],bandwidthOptions:Object(n.e)(l.j),modeOptions_5g:Object(n.e)(l.r),channelOptions_5g:[],bandwidthOptions_5g:[],modeOptions_6g:Object(n.e)(l.s),channelOptions_6g:[],bandwidthOptions_6g:Object(n.e)(l.k),originChannelOptions_6g:[],CONFIG_WIFI_SUPPORT_6G:CONFIG_WIFI_SUPPORT_6G,tooltipText:_("After Preferred Scanning Channel (PSC) is enabled, the success rate and stability of WiFi 6E wireless terminals connecting to the router's 6 GHz network will be improved."),showDialog:!1,clockNum:75,baseNum:75,circle:{x:40,y:40,r:30},is5gChanged:!1}),computed:{modeOptions:()=>"y"==window.CONFIG_24G_SUPPORT_11AX?Object(n.e)(l.q):Object(n.e)(l.q).filter(e=>"ax"!=e.value),clockProcess(){return 2*Math.PI*this.circle.r*this.clockNum/this.baseNum+" 500"}},methods:{getChannelList(e){let i=[{label:_("Auto"),value:"auto"}];e.forEach(e=>{("JP"!=this.ruleForm.countryCode||"20"==this.ruleForm.wifiBandwidth||"14"!=e)&&i.push({label:String(e),value:String(e)})}),this.channelOptions=i,i.some(e=>e.value==this.ruleForm.wifiChannel)||(this.ruleForm.wifiChannel="auto")},getChannelList_5g(e){let i=[{label:_("Auto"),value:"auto"}],t=this.ruleForm.wifiBandwidth_5g;"auto"===t&&(t="80"in this.ruleForm.wifiChannelList_5g?"80":"40",e=this.ruleForm.wifiChannelList_5g[t]);let a=e||[];0!==a.length&&(a.forEach(e=>{i.push({label:String(e)+(l.a.includes(e.toString())?" DFS":""),value:String(e)})}),this.channelOptions_5g=i,i.some(e=>e.value==this.ruleForm.wifiChannel_5g)||(this.ruleForm.wifiChannel_5g="auto"))},getBandwidth_5g(e){let i="an"===this.ruleForm.wifiMode_5g,t=[{label:_("20MHz"),value:"20"}];"160"in e&&!i&&"y"==window.CONFIG_5G_SUPPORT_160M?t.push({label:_("40MHz"),value:"40"},{label:_("80MHz"),value:"80"},{label:_("160MHz"),value:"160"},{label:_("20/40/80/160MHz"),value:"auto"}):"80"in e&&!i?t.push({label:_("40MHz"),value:"40"},{label:_("80MHz"),value:"80"},{label:_("20/40/80MHz"),value:"auto"}):"40"in e&&t.push({label:_("40MHz"),value:"40"},{label:_("20/40MHz"),value:"auto"}),this.bandwidthOptions_5g=t,t.some(e=>e.value==this.ruleForm.wifiBandwidth_5g)||(this.ruleForm.wifiBandwidth_5g="auto")},addDfsClass(){let e=document.getElementsByClassName("is-focus")[0],i=document.getElementsByClassName("v-select-options");e&&"wifiChannel_5g"==e.getAttribute("data-name")?i&&i[i.length-1].classList.add("dfs-select"):i[0]&&i[0].classList.remove("dfs-select")},showTips(e){(l.a.includes(e.wifiChannel_5g.toString())||"160"==e.wifiBandwidth_5g||"auto"===this.ruleForm.wifiChannel_5g)&&this.is5gChanged&&(this.showDialog=!0,clearInterval(this.timer),this.timer=setInterval(()=>{this.clockNum--,0===this.clockNum&&(clearInterval(this.timer),this.showDialog=!1,this.clockNum=75)},1e3))},getChannelList_6g(e){let i=[{label:_("Auto"),value:"auto"}],t=this.ruleForm.wifiBandwidth_6g;"auto"===t&&(t="80",e=this.ruleForm.wifiChannelList_6g[t]);let a=e||[];0!==a.length&&(a.forEach(e=>{i.push({label:String(e),value:String(e)})}),this.originChannelOptions_6g=i,this.filterChannel(),i.some(e=>e.value==this.ruleForm.wifiChannel_6g)||(this.ruleForm.wifiChannel_6g="auto"))},filterChannel(){let e=[];this.ruleForm.enablePsc?this.originChannelOptions_6g.forEach(({value:i})=>{l.b.includes(i)?e.push({label:i,value:i}):"auto"===i&&e.push({label:_("Auto"),value:"auto"})}):e=this.originChannelOptions_6g,this.channelOptions_6g=e},setChangedStatus(){this.is5gChanged=!0}},watch:{"ruleForm.wifiChannelList":{handler(e){this.getChannelList(e)},immediate:!0},"ruleForm.wifiChannelList_5g":{handler(e){this.getBandwidth_5g(e)},immediate:!0},"ruleForm.wifiBandwidth_5g":{handler(e){this.getChannelList_5g(this.ruleForm.wifiChannelList_5g[e])},immediate:!0},"ruleForm.wifiMode_5g":{handler(){this.getBandwidth_5g(this.ruleForm.wifiChannelList_5g)},immediate:!0},"ruleForm.wifiBandwidth":{handler(){this.getChannelList(this.ruleForm.wifiChannelList)},immediate:!0},"ruleForm.wifiBandwidth_6g":{handler(e){this.getChannelList_6g(this.ruleForm.wifiChannelList_6g[e])},immediate:!0},"ruleForm.enablePsc":{handler(){this.filterChannel()},immediate:!0}},mounted(){document.addEventListener("click",this.addDfsClass)},beforeDestroy(){document.removeEventListener("click",this.addDfsClass),clearInterval(this.timer)}},r=(t("545a"),t("0b56")),o={components:{WifiAdvance:Object(r.a)(s,(function render(){var e=this,i=e._self._c;return i("div",[i("v-form",{ref:e.name},[i("v-sub-title",[e._v(e._s(e._("2.4 GHz WiFi")))]),i("v-form-item",{attrs:{label:e._("Network Mode"),prop:"wifiMode"}},[i("v-select",{attrs:{options:e.modeOptions},model:{value:e.ruleForm.wifiMode,callback:function(i){e.$set(e.ruleForm,"wifiMode",i)},expression:"ruleForm.wifiMode"}})],1),i("v-form-item",{attrs:{label:e._("Channel"),prop:"wifiChannel"}},[i("v-select",{attrs:{disabled:e.isDisabled&&"0"==e.wifiChkHz,options:e.channelOptions},model:{value:e.ruleForm.wifiChannel,callback:function(i){e.$set(e.ruleForm,"wifiChannel",i)},expression:"ruleForm.wifiChannel"}}),"auto"===e.ruleForm.wifiChannel?i("div",{staticClass:"tip-text"},[i("span",[e._v(e._s(e._("Current Channel:")))]),i("span",[e._v(e._s(e.relativeData.wifiChannelCurrent))])]):e._e()],1),i("v-form-item",{attrs:{label:e._("Bandwidth"),prop:"wifiBandwidth"}},[i("v-select",{attrs:{disabled:e.isDisabled&&"0"==e.wifiChkHz,options:e.bandwidthOptions},model:{value:e.ruleForm.wifiBandwidth,callback:function(i){e.$set(e.ruleForm,"wifiBandwidth",i)},expression:"ruleForm.wifiBandwidth"}}),"auto"===e.ruleForm.wifiBandwidth?i("div",{staticClass:"tip-text"},[i("span",[e._v(e._s(e._("Current Bandwidth:")))]),i("span",[e._v(e._s(e.relativeData.wifiBandwidthCurrent))])]):e._e()],1),i("v-sub-title",[e._v(e._s(e._("5 GHz WiFi")))]),i("v-form-item",{attrs:{label:e._("Network Mode"),prop:"wifiMode_5g"}},[i("v-select",{attrs:{options:e.modeOptions_5g},on:{change:e.setChangedStatus},model:{value:e.ruleForm.wifiMode_5g,callback:function(i){e.$set(e.ruleForm,"wifiMode_5g",i)},expression:"ruleForm.wifiMode_5g"}})],1),i("v-form-item",{attrs:{label:e._("Channel"),prop:"wifiChannel_5g"}},[i("v-select",{attrs:{disabled:e.isDisabled&&"1"==e.wifiChkHz,options:e.channelOptions_5g},on:{change:e.setChangedStatus},model:{value:e.ruleForm.wifiChannel_5g,callback:function(i){e.$set(e.ruleForm,"wifiChannel_5g",i)},expression:"ruleForm.wifiChannel_5g"}}),"auto"===e.ruleForm.wifiChannel_5g?i("div",{staticClass:"tip-text"},[i("span",[e._v(e._s(e._("Current Channel:")))]),i("span",[e._v(e._s(e.relativeData.wifiChannelCurrent_5g))])]):e._e()],1),i("v-form-item",{attrs:{label:e._("Bandwidth"),prop:"wifiBandwidth_5g"}},[i("v-select",{attrs:{disabled:e.isDisabled&&"1"==e.wifiChkHz,options:e.bandwidthOptions_5g},on:{change:e.setChangedStatus},model:{value:e.ruleForm.wifiBandwidth_5g,callback:function(i){e.$set(e.ruleForm,"wifiBandwidth_5g",i)},expression:"ruleForm.wifiBandwidth_5g"}}),"auto"===e.ruleForm.wifiBandwidth_5g?i("div",{staticClass:"tip-text"},[i("span",[e._v(e._s(e._("Current Bandwidth:")))]),i("span",[e._v(e._s(e.relativeData.wifiBandwidthCurrent_5g))])]):e._e()],1),"y"===e.CONFIG_WIFI_SUPPORT_6G?i("div",[i("v-sub-title",[e._v(e._s(e._("6 GHz WiFi")))]),i("v-form-item",{attrs:{label:e._("Network Mode"),prop:"wifiMode_6g"}},[i("v-select",{attrs:{options:e.modeOptions_6g},model:{value:e.ruleForm.wifiMode_6g,callback:function(i){e.$set(e.ruleForm,"wifiMode_6g",i)},expression:"ruleForm.wifiMode_6g"}})],1),i("v-form-item",{attrs:{label:e._("Channel"),prop:"wifiChannel_6g"}},[i("v-select",{attrs:{disabled:e.isDisabled&&"2"==e.wifiChkHz,options:e.channelOptions_6g},model:{value:e.ruleForm.wifiChannel_6g,callback:function(i){e.$set(e.ruleForm,"wifiChannel_6g",i)},expression:"ruleForm.wifiChannel_6g"}}),"auto"===e.ruleForm.wifiChannel_6g?i("div",{staticClass:"tip-text"},[i("span",[e._v(e._s(e._("Current Channel:")))]),i("span",[e._v(e._s(e.relativeData.wifiChannelCurrent_6g))])]):e._e()],1),i("v-form-item",{staticClass:"enablePsc-item",attrs:{prop:"enablePsc"}},[i("v-checkbox",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.tooltipText,expression:"tooltipText"}],staticClass:"enablePsc-checkbox",attrs:{disabled:e.isDisabled&&"2"==e.wifiChkHz,prop:"enablePsc"},model:{value:e.ruleForm.enablePsc,callback:function(i){e.$set(e.ruleForm,"enablePsc",i)},expression:"ruleForm.enablePsc"}},[e._v(" "+e._s(e._("Enable PSC"))+" ")])],1),i("v-form-item",{attrs:{label:e._("Bandwidth"),prop:"wifiBandwidth_6g"}},[i("v-select",{attrs:{disabled:e.isDisabled&&"2"==e.wifiChkHz,options:e.bandwidthOptions_6g},model:{value:e.ruleForm.wifiBandwidth_6g,callback:function(i){e.$set(e.ruleForm,"wifiBandwidth_6g",i)},expression:"ruleForm.wifiBandwidth_6g"}}),"auto"===e.ruleForm.wifiBandwidth_6g?i("div",{staticClass:"tip-text"},[i("span",[e._v(e._s(e._("Current Bandwidth:")))]),i("span",[e._v(e._s(e.relativeData.wifiBandwidthCurrent_6g))])]):e._e()],1)],1):e._e()],1),i("v-dialog",{attrs:{showClose:!1,width:560,title:e._("Tips"),"show-cancel":!1,"show-confirm":!1},model:{value:e.showDialog,callback:function(i){e.showDialog=i},expression:"showDialog"}},[i("div",{staticClass:"clock"},[i("svg",{attrs:{width:"100%",height:"100%"}},[i("circle",{staticClass:"clock-bg",attrs:{cx:e.circle.x,cy:e.circle.y,r:e.circle.r}}),i("circle",{staticClass:"clock-circle",attrs:{"stroke-dasharray":e.clockProcess,cx:e.circle.x,cy:e.circle.y,r:e.circle.r}})]),i("span",[e._v(e._s(e.clockNum))])]),i("div",[e._v(" "+e._s(e._("As required by related laws and regulations, the device is performing DFS. Please connect to the Wi-Fi after about 60 seconds."))+" ")])])],1)}),[],!1,null,null,null).exports},data:()=>({pageTips:_("You can modify the advanced parameters of the WiFi network here, such as Network Mode, Channel, and Bandwidth. If no professional guidance is available, you are recommended to keep the default settings to prevent the performance from being weakened."),wifiAdvCfg:{},relativeData:{},isLoading:!0,updateTimer:!1,isDisabled:!1,wifiChkHz:"0"}),created(){this.getData(),this.update()},methods:{getData(){this.$getData({modules:"wifiAdvCfg,workMode"}).then(e=>{"wisp"!==e.workMode.workMode&&"apclient"!==e.workMode.workMode||(this.isDisabled=!0),e.workMode.wifi_chkHz&&(this.wifiChkHz=e.workMode.wifi_chkHz),this.isLoading=!1,this.wifiAdvCfg=Object(n.e)(e.wifiAdvCfg),this.relativeData=Object(n.e)(e.wifiAdvCfg)})},update(){clearInterval(this.updateTimer),this.updateTimer=setInterval(()=>{this.$getData({modules:"wifiAdvCfg"}).then(e=>{this.relativeData=Object(n.e)(e.wifiAdvCfg)})},5e3)},submit(e){this.$postModule(e,_("Saved successfully")).then(i=>{0==+i.errCode&&(this.$refs.advance.showTips(e.wifiAdvCfg),this.getData())})}},beforeDestroy(){clearInterval(this.updateTimer)}},d=Object(r.a)(o,(function render(){var e=this,i=e._self._c;return i("div",[i("v-loading",{attrs:{visible:e.isLoading}}),e.isLoading?e._e():i("v-page",{ref:"page",attrs:{isSubmit:!1},on:{init:e.getData,submit:e.submit}},[i("v-page-title",{attrs:{title:e._("Channel & Bandwidth"),tips:e.pageTips}}),i("wifi-advance",{ref:"advance",attrs:{name:"wifiAdvCfg",formData:e.wifiAdvCfg,"relative-data":e.relativeData,isDisabled:e.isDisabled,wifiChkHz:e.wifiChkHz}})],1)],1)}),[],!1,null,null,null);i.default=d.exports},"1ab12":function(e,i,t){},"545a":function(e,i,t){"use strict";t("1ab12")}}]);