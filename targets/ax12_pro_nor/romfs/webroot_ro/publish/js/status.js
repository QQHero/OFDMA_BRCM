(window.webpackJsonp=window.webpackJsonp||[]).push([["status"],{1918:function(t,e,s){t.exports=s.p+"img/wire-mesh-tips_router.png?e096fa4f"},"1b42":function(t,e,s){"use strict";s.r(e);s("4e3f");var i=s("fb0d"),o=s("7736"),n={created(){window.sessionStorage.removeItem("sign_id"),window.sessionStorage.removeItem("stok_id")},methods:{...Object(o.c)(["getStok","getData"]),handlerStart(){this.getStok(()=>{this.getData("wifiBasicCfg,wanCfg,localhost,lanCfg,ipConfig"),this.$router.push(i.a.CHECK_WAN)})}}},a=s("0b56"),d=Object(a.a)(n,(function render(){var t=this._self._c;return t("v-form",{attrs:{"submit-text":this._("Start Now")},on:{submit:this.handlerStart}},[t("div",{staticClass:"phone-home-page"},[t("img",{attrs:{src:s("8964"),width:"300"}})]),t("div",{staticClass:"phone-home-page-title"},[this._v(this._s(this._("Welcome to use Tenda router")))])])}),[],!1,null,null,null);e.default=d.exports},"1f0b":function(t,e,s){t.exports=s.p+"img/add-node-3.png?03e7850c"},"28a2":function(t,e,s){},"311d":function(t,e,s){var i={"./node-sn.png":"fb33","./node-sn_router.png":"3c42"};function webpackContext(t){var e=webpackContextResolve(t);return s(e)}function webpackContextResolve(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}webpackContext.keys=function webpackContextKeys(){return Object.keys(i)},webpackContext.resolve=webpackContextResolve,t.exports=webpackContext,webpackContext.id="311d"},"33ee":function(t,e,s){},"35ff":function(t,e,s){t.exports=s.p+"img/add-node-2.png?16ef8ef6"},"3c42":function(t,e,s){t.exports=s.p+"img/node-sn_router.png?862953d3"},4071:function(t,e,s){},"42e3":function(t,e,s){"use strict";s("9b8d")},"4a1f":function(t,e,s){"use strict";s.r(e);s("4e3f");var i=s("05af"),o=s("d665"),n={props:{statusInfo:Object,isRelayMode:Boolean},computed:{isInternet(){return 1===this.statusInfo.wanStatus.connectCode},wanUpSpeed(){return this.translateSpeed(this.statusInfo.wanStatus.wanUpSpeed)},wanDownSpeed(){return this.translateSpeed(this.statusInfo.wanStatus.wanDownSpeed)},clientNum(){return this.statusInfo.clientNum},meshNum(){return this.statusInfo.meshNum},doubleBand(){return this.statusInfo.wifiBasicCfg.doubleBand},tripleBand(){return this.statusInfo.wifiBasicCfg.tripleBand},wifiSSID(){return this.statusInfo.wifiBasicCfg.wifiSSID},wifiSSID_5g(){return this.statusInfo.wifiBasicCfg.wifiSSID_5g},wifiSSID_6g(){return this.statusInfo.wifiBasicCfg.wifiSSID_6g},wanTips(){return i.s[this.statusInfo.wanStatus.connectCode]||_("b#fLg#Disconnected")},wifiNum(){return this.doubleBand?"y"===CONFIG_WIFI_SUPPORT_6G?2:1:this.tripleBand?1:"y"===CONFIG_WIFI_SUPPORT_6G?3:2},uniteText(){let t,{wifiSSID:e,wifiNum:s}=this;if("y"===CONFIG_WIFI_SUPPORT_6G)switch(s){case 1:t="2.4G&5G&6G: "+e;break;case 2:t="2.4G&5G: "+e;break;case 3:t="2.4G: "+e}else switch(s){case 1:t="2.4G&5G: "+e;break;case 2:t="2.4G: "+e}return t}},data:()=>({CONFIG_WIFI_SUPPORT_6G:CONFIG_WIFI_SUPPORT_6G,CONFIG_ROUTER_DEVICE:"y"==window.CONFIG_ROUTER_DEVICE,CONFIG_MESH_SUPPORT:"y"==window.CONFIG_MESH_SUPPORT}),methods:{translateSpeed:t=>t>=131072?(t/131072).toFixed(2)+"Gbps":(t/128).toFixed(2)+"Mbps",gotoInternet(){this.$router.push(o.a.WAN)},gotoWifi(){this.$router.push(o.a.WIFI)}}},a=(s("e535"),s("0b56")),d=Object(a.a)(n,(function render(){var t=this,e=t._self._c;return e("div",{staticClass:"internet-topo"},[e("div",{staticClass:"internet-topo__content"},[e("div",{staticClass:"internet-topo__item"},[e("div",{class:[{"internet-topo__item__wan":!t.isRelayMode},{"internet-topo__item__upper":t.isRelayMode}]}),e("div",{staticClass:"internet-topo__item__tips"},[e("div",{staticClass:"internet-topo__item__text"},[t._v(t._s(t.isRelayMode?t._("上级路由器"):t._("Internet")))]),t.isRelayMode?t._e():e("span",{staticClass:"internet-topo__item__help"},[t._v(t._s(t.isInternet?t._("N#mWf#Connected"):t._("b#fLg#Disconnected")))])])]),t.isRelayMode?e("div",{staticClass:"internet-topo__item"},[t.isInternet?e("div",{staticClass:"internet-topo__extend-wifi icon-extend-wifi"}):e("div",{staticClass:"internet-topo__fail-wifi"})]):e("div",{staticClass:"internet-topo__item"},[e("div",{staticClass:"internet-topo__line",class:{"internet-topo__line--active":t.isInternet}},[e("div",[t.isInternet?e("div",[e("div",{staticClass:"internet-topo__position internet-topo__position--top"},[e("span",{staticClass:"internet-topo__position__icon upload-speed icon-up"}),e("span",{staticClass:"internet-topo__position__text fixed"},[t._v(" "+t._s(t.wanUpSpeed)+" ")])]),e("div",{staticClass:"internet-topo__position internet-topo__position--bottom"},[e("span",{staticClass:"internet-topo__position__icon download-speed icon-down"}),e("span",{staticClass:"internet-topo__position__text fixed"},[t._v(t._s(t.wanDownSpeed))])])]):e("div",[t._m(0),e("div",{staticClass:"internet-topo__no-wan-text",on:{click:t.gotoInternet}},[t._v(" "+t._s(t.wanTips)+" ")])])])])]),e("div",{staticClass:"internet-topo__item"},[e("div",{class:t.isRelayMode||t.CONFIG_ROUTER_DEVICE?"internet-topo__item__local":"internet-topo__item__router"}),e("div",{staticClass:"internet-topo__item__tips"},[e("div",{staticClass:"internet-topo__item__text"},[t._v(t._s(t.isRelayMode?t._("本机"):t.CONFIG_ROUTER_DEVICE?t._("Router"):t._("Mesh Node")))]),!t.isRelayMode&&t.CONFIG_MESH_SUPPORT?e("span",{staticClass:"internet-topo__item__help"},[t._v(" "+t._s(t._("%s node(s)",[t.meshNum]))+" ")]):t._e()])]),e("div",{staticClass:"internet-topo__item"},[e("div",{staticClass:"internet-topo__line internet-topo__line--active"},[e("div",{staticClass:"internet-topo__position internet-topo__position--top pointer",on:{click:t.gotoWifi}},[e("span",{staticClass:"internet-topo__position__icon wifi-success icon-wifi4"}),e("v-popover",{attrs:{enterable:!0,trigger:"hover",width:"auto"}},[e("p",[t._v(t._s(t.uniteText))]),t.wifiNum>2&&"y"===t.CONFIG_WIFI_SUPPORT_6G||t.wifiNum>1&&"n"===t.CONFIG_WIFI_SUPPORT_6G?e("p",[t._v(" "+t._s("5G: "+t.wifiSSID_5g)+" ")]):t._e(),t.wifiNum>1&&"y"===t.CONFIG_WIFI_SUPPORT_6G?e("p",[t._v(t._s("6G: "+t.wifiSSID_6g))]):t._e(),e("span",{staticClass:"internet-topo__position__text fixed",attrs:{slot:"reference"},slot:"reference"},[t._v(" "+t._s(t._("%s WiFi networks available",[t.wifiNum]))+" ")])])],1)])]),e("div",{staticClass:"internet-topo__item"},[e("div",{staticClass:"internet-topo__item__client"}),e("div",{staticClass:"internet-topo__item__tips"},[e("div",{staticClass:"internet-topo__item__text"},[t._v(t._s(t.isRelayMode?t._("%s client(s)",[t.clientNum]):"Client"))]),t.isRelayMode?t._e():e("span",{staticClass:"internet-topo__item__help"},[t._v(" "+t._s(t._("%s client(s)",[t.clientNum]))+" ")])])])])])}),[function(){var t=this._self._c;return t("span",{staticClass:"internet-topo__position--error"},[t("span",{staticClass:"v-icon-close-plane error-text"})])}],!1,null,null,null).exports,r={props:{statusInfo:Object},computed:{isInternet(){return this.statusInfo.isInternet},isConnected(){return this.statusInfo.isConnected}},data(){return this.CONFIG_ROUTER_DEVICE="y"==window.CONFIG_ROUTER_DEVICE,{}},methods:{translateSpeed:t=>t>=131072?(t/131072).toFixed(2)+"Gbps":(t/128).toFixed(2)+"Mbps",gotoInternet(){this.$router.push("/wan")}}},l=(s("fb5c"),Object(a.a)(r,(function render(){var t=this,e=t._self._c;return e("div",{staticClass:"ap-topo"},[e("div",{staticClass:"ap-topo__content"},[e("div",{staticClass:"ap-topo__item"},[e("div",{staticClass:"ap-topo__item__wan"}),e("div",{staticClass:"ap-topo__item__tips"},[e("div",{staticClass:"ap-topo__item__text"},[t._v(t._s(t._("Internet")))])])]),e("div",{staticClass:"ap-topo__item"},[e("div",{staticClass:"ap-topo__line",class:{"ap-topo__line--active":t.isInternet}},[t.isInternet?t._e():e("span",{staticClass:"ap-topo__error"},[e("span",{staticClass:"v-icon-close-plane"})]),t.isInternet?t._e():e("div",{staticClass:"ap-topo__error-text"},[t._v(" "+t._s(t._("Internet connection error"))+" ")])])]),e("div",{staticClass:"ap-topo__item"},[e("div",{staticClass:"ap-topo__item__upper"}),e("div",{staticClass:"ap-topo__item__tips"},[e("div",{staticClass:"ap-topo__item__text"},[t._v(t._s(t._("Upstream Router")))])])]),e("div",{staticClass:"ap-topo__item"},[e("div",{staticClass:"ap-topo__line ap-topo__line--small",class:{"ap-topo__line--active":t.isConnected}},[t.isConnected?t._e():e("span",{staticClass:"ap-topo__error"},[e("span",{staticClass:"v-icon-close-plane"})]),t.isConnected?t._e():e("div",{staticClass:"ap-topo__error-text"},[t._v(" "+t._s(t._("Disconnected"))+" ")])])]),e("div",{staticClass:"ap-topo__item"},[e("div",{class:t.CONFIG_ROUTER_DEVICE?"internet-topo__item__local":"ap-topo__item__router"}),e("div",{staticClass:"ap-topo__item__tips"},[e("div",{staticClass:"ap-topo__item__text"},[t._v(t._s(t.statusInfo.deviceName))])])]),t._m(0),e("div",{staticClass:"ap-topo__item"},[e("div",{staticClass:"ap-topo__item__client"}),e("div",{staticClass:"ap-topo__item__tips"},[e("div",{staticClass:"ap-topo__item__text"},[t._v(t._s(t._("Client")))])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"ap-topo__item"},[t("div",{staticClass:"ap-topo__extend-wifi icon-extend-wifi"})])}],!1,null,null,null).exports),c=s("7736"),p=s("09f1"),h=s("654b0"),u=(s("5e65"),Object(a.a)({},(function render(){var t=this,e=t._self._c;return e("div",{staticClass:"mesh-topo__legend"},[e("div",{staticClass:"mesh-topo__legend__li"},[e("v-tooltip",{attrs:{content:t._("Good connection quality"),position:"right-center"}},[e("span",{staticClass:"topo-box__round topo-box__round--green"}),e("span",{staticClass:"topo-box__text text-shallow"},[t._v(t._s(t._("Excellent")))])])],1),e("div",{staticClass:"mesh-topo__legend__li"},[e("v-tooltip",{attrs:{content:t._("Connection quality is average"),position:"right-center"}},[e("span",{staticClass:"topo-box__round topo-box__round--yellow"}),e("span",{staticClass:"topo-box__text text-shallow"},[t._v(t._s(t._("Fair")))])])],1),e("div",{staticClass:"mesh-topo__legend__li"},[e("v-tooltip",{attrs:{content:t._("The connection quality is poor, it is recommended to be close to another node"),position:"right-center"}},[e("span",{staticClass:"topo-box__round topo-box__round--red"}),e("span",{staticClass:"topo-box__text text-shallow"},[t._v(t._s(t._("Poor")))])])],1),e("div",{staticClass:"mesh-topo__legend__li"},[e("span",{staticClass:"topo-box__round"}),e("span",{staticClass:"topo-box__text text-shallow"},[t._v(t._s(t._("Offline")))])])])}),[],!1,null,null,null).exports),m=[function(){var t=this._self._c;return t("div",{staticClass:"add-node__image"},[t("img",{attrs:{src:s("2383")}})])},function(){var t=this._self._c;return t("div",{staticClass:"add-node__image"},[t("img",{attrs:{src:s("56e3")}})])},function(){var t=this._self._c;return t("div",{staticClass:"add-node__image"},[t("img",{attrs:{src:s("cc1d")}})])},function(){var t=this._self._c;return t("div",{staticClass:"add-node__image"},[t("img",{attrs:{src:s("598d")}})])}],v={data:()=>({STEPS:{SCAN:"sacn",SCAN_SUCCESS:"scan success",SCAN_FAIL:"scan faild",ADD_SN_LOADING:"add sn loading",ADD_SN_SUCCESS:"add sn success",ADD_SN_FAIL:"add sn faild",SHOW_SN:"show sn"},step:"scan",newSnList:[],node:"",timer:null,percent:0,percentStep:1,progressTimer:null,isAddSuccess:!1,routerProduct:"y"==CONFIG_ROUTER_DEVICE?"_router":""}),computed:{snImg(){return s("311d")(`./node-sn${this.routerProduct&&"_router"}.png`)}},created(){this.startScan()},methods:{startScan(){this.$getData({modules:"scanNodeList",action:"scan"}),this.step=this.STEPS.SCAN,this.timer=setTimeout(this.getScanList,1e4)},getScanList(){this.$getData({modules:"scanNodeList",action:"scanResult"}).then(t=>{this.scanList=t.scanNodeList,0==this.scanList.length?this.step=this.STEPS.SCAN_FAIL:(this.newSnList.length=0,this.newSnList.push({value:"-1",label:_("New Node Found:"),disabled:!0}),this.scanList.forEach(t=>{this.newSnList.push({value:t.sn,label:"SN:"+t.sn})}),this.step=this.STEPS.SCAN_SUCCESS)})},addNode(){if(!this.node)return this.$message.error(_("Please select at least one node")),!1;this.step=this.STEPS.ADD_SN_LOADING,this.$postModule({addNode:this.node},!1).then(t=>{0==t.errCode?(this.percent=1,this.startProgressTimer(),this.getAddStatus()):this.step=this.STEPS.ADD_SN_FAIL})},getAddStatus(){this.timer=setTimeout(()=>{this.$getData({modules:"addStatus"}).then(t=>{switch(this.addStatus=t.addStatus.addStatus,this.addStatus){case"error":this.step=this.STEPS.ADD_SN_FAIL,this.isAddSuccess=!1;break;case"success":this.isAddSuccess=!0,this.percentStep=~~(100-this.percent)/2;break;case"adding":this.getAddStatus();break;default:this.getAddStatus()}})},1e4)},startProgressTimer(){this.clearTimer(),this.progressTimer=setInterval(()=>{this.percent+=this.percentStep,this.percent>=100&&(this.clearTimer(),this.percentStep=1,this.percent=100,setTimeout(()=>{this.step=this.isAddSuccess?this.STEPS.ADD_SN_SUCCESS:this.STEPS.ADD_SN_FAIL,this.isAddSuccess=!1},1e3))},1200)},setPercent(t){t>this.data.percent&&(this.data.percent=t,this.$emit("updateTableData",this.data))},clearTimer(){this.progressTimer&&clearInterval(this.progressTimer)},cancel(){this.$emit("setStep","add"),this.timer&&clearTimeout(this.timer)}},beforeDestroy(){this.timer&&clearTimeout(this.timer)}},f=(s("9d9d"),{components:{scan:Object(a.a)(v,(function render(){var t=this,e=t._self._c;return e("div",{staticClass:"scan-node"},[t.step==t.STEPS.SCAN?e("div",{staticClass:"add-node__content scaning"},[e("div"),t._m(0),e("div",{staticClass:"add-node__tips"},[t._v(t._s(t._("Searching node… Please wait")))]),e("div",{staticClass:"add-node__light-tips"},[t._v(" "+t._s(t._("Put new node nearby the primary node (within 3 meters) to ensure that it can be searched"))+" ")]),e("div",{staticClass:"add-node__absolute"},[e("v-button",{staticClass:"add-node__button add-node__button--full",on:{click:t.cancel}},[t._v(t._s(t._("Cancel")))])],1)]):t._e(),t.step==t.STEPS.SCAN_SUCCESS?e("div",{staticClass:"add-node__content new-node"},[e("v-form",{attrs:{name:"newNode"}},[e("v-form-item",{attrs:{"is-no-label":"",prop:"node"}},[e("v-radio",{attrs:{options:t.newSnList},model:{value:t.node,callback:function(e){t.node=e},expression:"node"}})],1)],1),e("div",{staticClass:"add-node__absolute"},[e("div",{staticClass:"text-active pointer",on:{click:function(e){t.step=t.STEPS.SHOW_SN}}},[t._v(" "+t._s(t._("How to check the SN of a node?"))+" ")]),e("v-button",{staticClass:"add-node__button",on:{click:t.cancel}},[t._v(t._s(t._("Cancel")))]),e("v-button",{staticClass:"add-node__button",attrs:{type:"primary"},on:{click:t.addNode}},[t._v(t._s(t._("Add")))])],1)],1):t._e(),t.step==t.STEPS.ADD_SN_LOADING?e("div",{staticClass:"add-node__content adding"},[e("div",{staticClass:"add-node__tips"},[t._v(" "+t._s(t._("Adding nodes… Please wait"))+" ")]),e("div",{staticClass:"process"},[e("div",{staticClass:"process__bar"},[e("div",{staticClass:"process__bar--active",style:"width:"+t.percent+"%"})]),e("span",{staticClass:"process__percent"},[t._v(" "+t._s(t.percent)+"% ")])])]):t._e(),t.step==t.STEPS.ADD_SN_SUCCESS?e("div",{staticClass:"add-node__content add-node-success"},[t._m(1),e("div",{staticClass:"add-node__title"},[t._v(t._s(t._("Added successfully")))]),e("div",{staticClass:"add-node__absolute"},[e("v-button",{staticClass:"add-node__button add-node__button--full",attrs:{type:"primary"},on:{click:t.cancel}},[t._v(t._s(t._("OK")))])],1)]):t._e(),t.step==t.STEPS.ADD_SN_FAIL?e("div",{staticClass:"add-node__content add-node-fail"},[t._m(2),e("div",{staticClass:"add-node__title"},[t._v(t._s(t._("Failed to add")))]),e("div",{staticClass:"add-node__tips"},[e("div",[t._v(t._s(t._("1. Ensure that new node is powered on.")))]),e("div",[t._v(" "+t._s(t._("2. Put new node nearby (within 3 meters) and add it into the network, and then relocate it to a proper position (indicated by a solid-green/yellow LED indicator)."))+" ")])]),e("div",{},[e("v-button",{staticClass:"add-node__button add-node__button--full",attrs:{type:"primary"},on:{click:function(e){t.step=t.STEPS.SCAN_SUCCESS}}},[t._v(t._s(t._("OK")))])],1)]):t._e(),t.step==t.STEPS.SCAN_FAIL?e("div",{staticClass:"add-node__content scan-fail"},[t._m(3),e("div",{staticClass:"add-node__title"},[t._v(t._s(t._("No New Node Found")))]),e("div",{staticClass:"add-node__tips"},[e("div",[t._v(t._s(t._("1. Ensure that new node is powered on.")))]),e("div",[t._v(" "+t._s(t._("2. Put new node nearby the primary node (within 3 meters)."))+" ")]),e("div",[t._v(t._s(t._("3. Reset the new node.")))])]),e("div",{staticClass:"add-node__light-tips"},[e("div",[t._v(t._s(t._("Tips:")))]),t._v(" "+t._s(t._("To reset the node: Hold down the RESET button for about 8 seconds and then release it when the LED indicator blinks fast."))+" ")]),e("div",{staticClass:"add-node__absolute"},[e("v-button",{staticClass:"add-node__button",on:{click:t.cancel}},[t._v(t._s(t._("Back")))]),e("v-button",{staticClass:"add-node__button",attrs:{type:"primary"},on:{click:t.startScan}},[t._v(t._s(t._("Try again")))])],1)]):t._e(),t.step==t.STEPS.SHOW_SN?e("div",{staticClass:"add-node__content show-sn"},[e("div",{staticClass:"add-node__image"},[e("img",{attrs:{src:t.snImg}}),e("div",{staticClass:"add-node__text add-node__text--bottom"},[t._v(" "+t._s(t._("Bottom"))+" ")]),e("div",{staticClass:"add-node__text add-node__text--sn"},[t._v(" SN ")])]),e("div",{staticClass:"add-node__tips"},[t._v(" "+t._s(t._("You can check the SN on the device label"))+" ")]),e("div",{staticClass:"add-node__absolute"},[e("v-button",{staticClass:"add-node__button add-node__button--full",on:{click:function(e){t.step=t.STEPS.SCAN_SUCCESS}}},[t._v(t._s(t._("Back")))])],1)]):t._e()])}),m,!1,null,null,null).exports},props:{showFirstMeshTip:Boolean},watch:{showFirstMeshTip:{handler(t){t&&(this.showFirst=t,this.showModal=!0,this.$postModule({showFirstMeshTip:{showFirstMeshTip:!1}},!1))},immediate:!0}},data(){return{routerProduct:"y"==CONFIG_ROUTER_DEVICE?"_router":"",showModal:!1,showNodeError:!1,addIndex:1,showFirst:!1,slideType:"slide-right",addType:"wireless",step:"add",addIndexInfo:{1:{imgInfo:[{name:"interface",text:_("Power Jack")},{name:"power",text:_("Power Socket")}],tips:[_("Ensure that the primary node is connected to the internet, and new node is powered on and in factory settings.")],button:[{btnText:_("Next"),type:"primary",btnClick:this.addNodeNext}]},2:{imgInfo:[{name:"led",text:_("LED Indicator")},{name:"button",text:_("WPS Button")}],tips:[_("1. When the LED indicator of the new node blinks green, hold down the WPS button, and the LED indicator blinks fast."),_("2. Within 2 minutes, hold down the WPS button on the primary node, and the LED indicator blinks fast.")],button:[{btnText:_("Previous"),type:"info",btnClick:this.addNodePre},{btnText:_("Next"),type:"primary",btnClick:this.addNodeNext}]},3:{imgInfo:[{name:"led2",text:_("LED Indicator")}],tips:[_("When the LED indicator of the new node turns to solid on, the networking succeeds.")],button:[{btnText:_("Previous"),type:"info",btnClick:this.addNodePre},{btnText:_("P#EVn#OK"),type:"primary",btnClick:this.hide}]}}}},computed:{currentAddInfo(){return this.addIndexInfo[this.addIndex]},step1Img(){return s("92e3")(`./add-node-1${this.routerProduct&&"_router"}.png`)},step2Img(){return s("5831")(`./add-node-2${this.routerProduct&&"_router"}.png`)},step3Img(){return s("addc")(`./add-node-3${this.routerProduct&&"_router"}.png`)},wirelessNetImg(){return s("8daf")(`./wire-mesh-tips${this.routerProduct&&"_router"}.png`)},wireNetImg(){return s("8daf")(`./wire-mesh-tips${this.routerProduct&&"_router"}.png`)}},methods:{addChildNode(){this.showModal=!0,this.addIndex=1,this.$refs.tooltip.hide()},hide(){this.showModal=!1,this.showFirst=!1,this.step="add"},setStep(t){this.step=t},addNodeNext(){this.addIndex++},addNodePre(){this.addIndex--}}}),C=(s("d8ad"),Object(a.a)(f,(function render(){var t=this,e=t._self._c;return e("div",[e("v-tooltip",{ref:"tooltip",attrs:{content:t._("Add Node"),position:"left-center"}},[e("div",{staticClass:"mesh-btn__icon icon-add",on:{click:t.addChildNode}})]),e("v-dialog",{attrs:{width:808,"show-cancel":!1,"show-confirm":!1,title:t.showFirst?t._("Package Networking"):t._("Add Node")},on:{"after-close":t.hide},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[e("div",[t.showNodeError||t.showFirst?t._e():e("div",{staticClass:"add-node"},["add"==t.step?e("div",[e("div",{staticClass:"add-node__content"},[e("div",[e("div",[e("span",{staticClass:"text-active"},[t._v(t._s(t.addIndex))]),t._v("/3 ")]),e("div",{staticClass:"add-node__image"},[1===t.addIndex?e("img",{attrs:{src:t.step1Img}}):t._e(),2===t.addIndex?e("img",{attrs:{src:t.step2Img}}):t._e(),3===t.addIndex?e("img",{attrs:{src:t.step3Img}}):t._e(),t._l(t.currentAddInfo.imgInfo,(function(s){return e("div",{key:s.name,staticClass:"add-node__text",class:"add-node__text--"+s.name+t.routerProduct},[t._v(" "+t._s(s.text)+" ")])}))],2),e("div",{staticClass:"add-node__tips add-node__tips--height"},t._l(t.currentAddInfo.tips,(function(s){return e("div",{key:s},[t._v(" "+t._s(s)+" ")])})),0),e("div",{staticClass:"add-node__absolute__btn--addtip"},[3===t.addIndex?e("div",{staticClass:"add-node__content__tips"},[t._v(" "+t._s(t._("You can also choose"))+" "),e("span",{staticClass:"text-active pointer",on:{click:function(e){t.step="wireless"}}},[t._v(t._s(t._("Scanning networking")))]),t._v(" "+t._s(t._("or"))+" "),e("span",{staticClass:"text-active pointer",on:{click:function(e){t.step="wired"}}},[t._v(t._s(t._("Wired networking")))])]):t._e(),t._l(t.currentAddInfo.button,(function(s){return e("v-button",{key:s.btnText,staticClass:"add-node__button",class:{"add-node__button--full":1==t.currentAddInfo.button.length},attrs:{type:s.type},on:{click:s.btnClick}},[t._v(t._s(s.btnText))])}))],2)])])]):t._e(),"wireless"==t.step?e("div",{staticClass:"wired-node"},[e("scan",{on:{setStep:t.setStep}})],1):t._e(),"wired"==t.step?e("div",{staticClass:"wired-node"},[e("div",{staticClass:"add-node__content"},[e("div",[t._v(t._s(t._("Wired networking")))]),e("div",{staticClass:"add-node__image"},[e("img",{attrs:{src:t.wireNetImg}}),e("div",{staticClass:"add-node__text",class:"add-node__text--lan"+t.routerProduct},[t._v(" LAN1/LAN2/LAN3 ")]),e("div",{staticClass:"add-node__text",class:"add-node__text--net"+t.routerProduct},[t._v(" "+t._s(t._("Ethernet Cable"))+" ")])]),e("div",{staticClass:"add-node__tips"},[t._v(" "+t._s(t._("Use an Ethernet cable to connect an added node to the LAN1 port or LAN2 port or LAN3 port of the new node"))+" ")]),e("div",{staticClass:"add-node__light-tips"},[t._v(" "+t._s(t._("Tips: Ensure that the new node is in factory settings."))+" ")]),e("div",{staticClass:"add-node__absolute__btn"},[e("v-button",{staticClass:"add-node__button add-node__button--full",attrs:{type:"primary"},on:{click:function(e){t.step="add"}}},[t._v(t._s(t._("Back")))])],1)])]):t._e(),"add"==t.step?e("div",{staticClass:"text-active add-node__text--mini add-node__absolute"},[e("span",{staticClass:"pointer",on:{click:function(e){t.showNodeError=!0}}},[t._v(t._s(t._("Need help?")))])]):t._e()]),t.showNodeError?e("div",{staticClass:"add-node"},[e("div",{staticClass:"add-node__content"},[e("div",{staticClass:"add-node__image"},[e("img",{attrs:{src:s("598d")}})]),t.showFirst?e("div",{staticClass:"add-node__tips"},[e("p",[t._v(t._s(t._("1. Ensure that all nodes are powered on.")))]),e("p",[t._v(" "+t._s(t._("2. Ensure that only one node (the primary node) is connected to the internet while other nodes are in factory settings."))+" ")]),e("p",[t._v(" "+t._s(t._("3. Put new node nearby (within 3 meters) and add it into the network, and then relocate it to a proper position (indicated by a solid-green/yellow LED indicator)."))+" ")])]):e("div",{staticClass:"add-node__tips"},[e("p",[t._v(t._s(t._("1. Ensure that all nodes are powered on.")))]),e("p",[t._v(" "+t._s(t._("2. Put new node nearby (within 3 meters) and add it into the network, and then relocate it to a proper position (indicated by a solid-green/yellow LED indicator)."))+" ")]),e("p",[t._v(" "+t._s(t._("3. If you use the MESH button to add secondary nodes, only 1 node can be added at a time."))+" ")])]),t.showFirst?e("div",{staticClass:"add-node__light-tips"},[e("p",[t._v(t._s(t._("Tips:")))]),e("p",[t._v(" "+t._s(t._("To reset the node: Hold down the RESET button for about 8 seconds and then release it when the LED indicator blinks fast."))+" ")])]):t._e(),e("div",{class:{"add-node__absolute__btn":!t.showFirst}},[e("v-button",{staticClass:"add-node__button add-node__button--full",attrs:{type:"primary"},on:{click:function(e){t.showNodeError=!1}}},[t._v(t._s(t._("Back")))])],1)])]):t._e(),t.showFirst&&!t.showNodeError?e("div",{staticClass:"add-node show-first"},[e("div",{staticClass:"wireless-mesh package-mesh"},[e("div",{staticClass:"package-mesh__title"},[t._v(" "+t._s(t._("Wireless Networking"))+" ")]),e("div",{staticClass:"package-mesh__image"},[e("img",{attrs:{src:t.step1Img}}),e("div",{staticClass:"package-mesh__text",class:"package-mesh__text--interface"+t.routerProduct},[t._v(" "+t._s(t._("Power Jack"))+" ")]),e("div",{staticClass:"package-mesh__text",class:"package-mesh__text--power"+t.routerProduct},[t._v(" "+t._s(t._("Power Socket"))+" ")])]),e("div",{staticClass:"add-node__tips"},[e("div",[t._v(" "+t._s(t._("Power the rest nodes on until they complete startup."))+" ")]),e("div",[t._v(" "+t._s(t._("In about 2 minutes, when the LED indicators of the nodes turn to solid on, the networking is successful."))+" ")])])]),e("div",{staticClass:"wired-mesh package-mesh"},[e("div",{staticClass:"package-mesh__title"},[t._v(t._s(t._("Wired networking")))]),e("div",{staticClass:"package-mesh__image"},[e("img",{attrs:{src:t.wireNetImg}}),e("div",{staticClass:"package-mesh__text",class:"package-mesh__text--lan"+t.routerProduct},[t._v(" LAN2/LAN3 ")]),e("div",{staticClass:"package-mesh__text",class:"package-mesh__text--net"+t.routerProduct},[t._v(" "+t._s(t._("Ethernet Cable"))+" ")])]),e("div",{staticClass:"add-node__tips"},[t._v(" "+t._s(t._("Use an Ethernet cable to connect the two nodes (LAN2 port or LAN3 port)"))+" ")])]),e("div",{staticClass:"add-node__absolute__btn--addtip"},[e("div",{staticClass:"add-node__light-tips"},[t._v(" "+t._s(t._("Tips: You can perform both wired and wireless networking based on actual conditions."))+" ")]),e("div",[e("v-button",{staticClass:"add-node__button add-node__button--full",attrs:{type:"primary"},on:{click:t.hide}},[t._v(t._s(t._("P#EVn#OK")))])],1)]),e("div",{staticClass:"text-active add-node__text--mini add-node__absolute",on:{click:function(e){t.showNodeError=!0}}},[e("span",{staticClass:"pointer",on:{click:function(e){t.showNodeError=!0}}},[t._v(t._s(t._("Need help?")))])])]):t._e()])])],1)}),[],!1,null,null,null).exports),g=s("31ce"),w={components:{VConfirmDialog:g.a},data:()=>({showModal:!1}),methods:{handlerOptimization(){this.showModal=!0,this.$refs.tooltip.hide()},handleConfirm(){this.$postModule({meshOptimize:{action:"optimize"}}).then(()=>{this.$emit("init"),this.showModal=!1})},closeModal(){this.showModal=!1}}},b=Object(a.a)(w,(function render(){var t=this,e=t._self._c;return e("div",[e("v-tooltip",{ref:"tooltip",attrs:{content:t._("One-Click Optimization"),position:"left-center"}},[e("div",{staticClass:"mesh-btn__icon icon-optimization",on:{click:t.handlerOptimization}})]),t.showModal?e("v-confirm-dialog",{attrs:{title:t._("Tips"),tips:t._("Do you want to optimize WiFi network?")},on:{cancel:t.closeModal,"after-close":t.closeModal,confirm:t.handleConfirm}},[e("div",[t._v(" "+t._s(t._("The device collects and analyses the surrounding WiFi environment information and adjusts such configurations as channel and bandwidth to optimize the networking quality. The whole process takes some time and the WiFi network will be disabled. Enable this function based on actual conditions."))+" ")])]):t._e()],1)}),[],!1,null,null,null).exports,S={components:{VConfirmDialog:g.a},props:{sn:String,mac:String,ip:String},methods:{handlerConfirm(){let t={action:"reboot"};this.sn&&(t.sn=this.sn,t.mac=this.mac,t.ip=this.ip),this.$postModule({systemReboot:t},!1).then(()=>{this.$dispatch("main-index","reboot"),this.$emit("after-callback")})},handlerCancel(){this.$emit("cancel")}}},N=Object(a.a)(S,(function render(){var t=this,e=t._self._c;return e("v-confirm-dialog",{attrs:{title:t._("Reboot"),confirmText:t._("Reboot"),tips:t._("Do you want to reboot the device?")},on:{confirm:t.handlerConfirm,cancel:t.handlerCancel,"after-close":function(e){return t.$emit("after-close")}}},[e("p",[e("span",[t._v("−")]),t._v(t._s(t._("During the reboot, all connections are cut off."))+" ")]),e("p",[e("span",[t._v("−")]),t._v(t._s(t._("The reboot takes about 90 seconds. Please reboot the device in relatively idle periods."))+" ")])])}),[],!1,null,null,null).exports,k={components:{VConfirmReboot:N},props:{isRelayMode:Boolean},data:()=>({showModal:!1,rebootTip:"y"==window.CONFIG_MESH_SUPPORT?_("Reboot All Nodes"):_("Reboot")}),methods:{handlerReboot(){this.showModal=!0,this.$refs.tooltip.hide()}}},x={components:{AddNode:C,OptimizeNode:b,RebootNode:Object(a.a)(k,(function render(){var t=this,e=t._self._c;return e("div",[e("v-tooltip",{ref:"tooltip",staticClass:"mesh-btn__li",attrs:{content:t.rebootTip,position:t.isRelayMode?"right-center":"left-center"}},[e("div",{staticClass:"mesh-btn__icon icon-restart",on:{click:t.handlerReboot}})]),t.showModal?e("v-confirm-reboot",{on:{"after-close":function(e){t.showModal=!1},"after-callback":function(e){t.showModal=!1}}}):t._e()],1)}),[],!1,null,null,null).exports},props:{ledEn:Boolean,showFirstMeshTip:Boolean,isRelayMode:{type:Boolean,default:!1}},data(){return this.CONFIG_SUPPORT_TOPO="y"==window.CONFIG_SUPPORT_TOPO,{}},methods:{handlerLed(){this.$postModule({ledCfg:{ledType:this.ledEn?"disabled":"enable"}}).then(()=>{this.$emit("init")})}}},I=(s("8030"),Object(a.a)(x,(function render(){var t=this,e=t._self._c;return e("div",{staticClass:"mesh-btn-group",class:{"mesh-btn-group--relay":t.isRelayMode}},[!t.isRelayMode&&t.CONFIG_SUPPORT_TOPO?e("add-node",{staticClass:"mesh-btn__li",attrs:{showFirstMeshTip:t.showFirstMeshTip}}):t._e(),t.isRelayMode?t._e():e("optimize-node",{staticClass:"mesh-btn__li"}),e("reboot-node",{staticClass:"mesh-btn__li",attrs:{isRelayMode:t.isRelayMode}}),e("v-tooltip",{staticClass:"mesh-btn__li",attrs:{content:t.ledEn?t._("Turn off all LED indicators"):t._("Turn on all LED indicators"),position:"left-center"}},[e("div",{staticClass:"mesh-btn__icon",class:t.ledEn?"icon-led-open mesh-btn__icon--open":"icon-led-close",on:{click:t.handlerLed}})])],1)}),[],!1,null,null,null).exports),y=s("710d"),D=s("5595");let T={WIRE:"wire",OFFLINE:"offline"};var E={inject:["showConfirm"],components:{VEditDevice:D.a},props:{tableData:{type:Array,default:()=>[]}},data:()=>({CONNECT_TYPE:T}),methods:{getSignal:t=>"wifi-signal--"+(Object(y.p)(t)||1),changeName(t,e){t.hostname=e,this.$emit("submit",t)},changeSwitch(t){this.$emit("submit",t)},handlerReboot(t){this.$emit("set-options",{type:"reboot",sn:t.sn,mac:t.mac,ip:t.ip})},handlerReset(t){this.$emit("set-options",{type:"reset",sn:t.sn})},handlerRemove(t){this.$emit("set-options",{type:"remove",sn:t.sn,mac:t.mac,ip:t.ip})},editName(t){this.$emit("update-list",!t)}}},R=(s("42e3"),Object(a.a)(E,(function render(){var t=this,e=t._self._c;return e("v-table",{staticClass:"mesh-node",attrs:{data:t.tableData}},[e("v-table-col",{attrs:{width:308,prop:"ip",label:t._("Node Name")},scopedSlots:t._u([{key:"default",fn:function(s){return[e("v-edit-device",{attrs:{devInfo:s,"has-delete":!1,"has-connect-type":"agent"===s.nodeType},on:{change:t.changeName,edit:t.editName}},["agent"!==s.nodeType?e("span",{staticClass:"mesh-node__tips"},[t._v(" "+t._s(t._("Primary Node"))+" ")]):t._e()])]}}])}),e("v-table-col",{attrs:{align:"center",width:134,prop:"signal",label:t._("Connection Quality")},scopedSlots:t._u([{key:"default",fn:function(s){return[s.connectType===t.CONNECT_TYPE.WIRE?e("span",[t._v(t._s(t._("Excellent")))]):s.connectType===t.CONNECT_TYPE.OFFLINE?e("span",[t._v("--")]):"controller"!==s.nodeType?e("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:s.signal+" dB",expression:"slotProps.signal + ' dB'"}],staticClass:"wifi-signal",class:t.getSignal(s.signal)}):e("span",{staticClass:"wifi-signal",class:t.getSignal(s.signal)})]}}])}),e("v-table-col",{attrs:{align:"center",width:134,prop:"ledEn",label:t._("LED On/Off")},scopedSlots:t._u([{key:"default",fn:function(s){return[e("v-switch",{attrs:{size:"S",disabled:s.connectType===t.CONNECT_TYPE.OFFLINE},on:{change:function(e){return t.changeSwitch(s)}},model:{value:s.ledEn,callback:function(e){t.$set(s,"ledEn",e)},expression:"slotProps.ledEn"}})]}}])}),e("v-table-col",{attrs:{align:"center",width:134,prop:"action",label:t._("Operation")},scopedSlots:t._u([{key:"default",fn:function(s){return[s.connectType!==t.CONNECT_TYPE.OFFLINE?e("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t._("Reboot"),expression:"_('Reboot')"}],staticClass:"mesh-node-icon icon-restart",on:{click:function(e){return t.handlerReboot(s)}}}):t._e(),"agent"===s.nodeType?[e("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t._("Remove"),expression:"_('Remove')"}],staticClass:"mesh-node-icon icon-delete",on:{click:function(e){return t.handlerRemove(s)}}})]:e("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t._("Reset"),expression:"_('Reset')"}],staticClass:"mesh-node-icon icon-refresh",on:{click:function(e){return t.handlerReset(s)}}})]}}])})],1)}),[],!1,null,null,null).exports),O={components:{VConfirmDialog:g.a},props:{sn:String},data:()=>({isConfirmed:!1}),methods:{handlerConfirm(){if(this.isConfirmed)return;this.isConfirmed=!0;let t={action:"reset"};this.sn&&(t.sn=this.sn),this.$postModule({systemReset:t},!1).then(()=>{this.$dispatch("main-index","reset"),this.$emit("after-callback")})},handlerCancel(){this.$emit("cancel")}}},M=Object(a.a)(O,(function render(){var t=this._self._c;return t("v-confirm-dialog",{attrs:{title:this._("Reset"),confirmText:this._("Reset"),tips:this._("Do you want to reset the primary node?")},on:{confirm:this.handlerConfirm,cancel:this.handlerCancel}},[t("p",[this._v(" "+this._s(this._("After the primary node is reset, the whole network loses internet availability and needs to be reconfigured. You are recommended to back up the configurations first."))+" ")])])}),[],!1,null,null,null).exports,L={name:"mesh-topo",components:{IconList:h.a,MeshLegend:u,MeshButton:I,DeviceList:p.a,MeshNodeList:R,VConfirmReboot:N,VConfirmReset:M,VConfirmDialog:g.a},props:{meshList:Array,ledEn:Boolean,showFirstMeshTip:Boolean},computed:{...Object(c.e)(["localhost"]),topo(){return this.meshList}},data(){return this.CONFIG_SUPPORT_TOPO="y"==window.CONFIG_SUPPORT_TOPO,{nodeData:{},nodeList:[],isNodeDetail:!1,isReboot:!1,isReset:!1,isRemove:!1,isSwitchNode:!1,nodeSn:"",nodeMac:"",nodeIP:"",nodeName:"",updateTimer:null,blackList:[],isBlackMode:!0,isRouterMode:!1}},created(){this.$on("show-node",this.showDetail)},methods:{getData(){this.$getData({modules:"deviceList,meshInfo,macFilter,workMode",sn:this.nodeSn}).then(t=>{this.isRouterMode="router"===t.workMode.workMode,this.nodeData=t.deviceList.filter(t=>t.sn===this.nodeSn)[0]||{},this.isNodeDetail=!0,t.meshInfo.hostname=t.meshInfo.nodeName,this.nodeList=[t.meshInfo],this.isBlackMode=!(t.macFilter.macFilterEn&&"allow"===t.macFilter.curFilterMode),this.blackList=Object(y.e)(t.macFilter.blackList)})},showDetail(t){this.$emit("update",!1),this.nodeSn=t,this.getData(),this.updateList(!0)},updateList(t){clearInterval(this.updateTimer),this.$emit("updateRebootStatus",!t),t&&(this.updateTimer=setInterval(this.getData,5e3))},refreshDeviceList(t){t&&this.getData(),this.updateList(!0)},setNode(t){t.nodeName=t.hostname,this.updateList(!1),this.$postModule({meshInfo:t}).then(()=>{this.updateList(!0)})},setNodeOptions(t){this.updateList(!1),"reboot"===t.type?(this.isNodeDetail=!1,this.isReboot=!0,this.nodeSn=t.sn,this.nodeMac=t.mac,this.nodeIp=t.ip):"reset"===t.type?(this.isNodeDetail=!1,this.isReset=!0,this.nodeSn=t.sn,this.nodeMac=t.mac,this.nodeIp=t.ip):"remove"===t.type&&(this.isNodeDetail=!1,this.isRemove=!0,this.nodeSn=t.sn,this.nodeMac=t.mac,this.nodeIp=t.ip)},removeNode(){let t={action:"remove"};this.nodeSn&&(t.sn=this.nodeSn,t.ip=this.nodeIp,t.mac=this.nodeMac),this.$postModule({meshInfo:t},!1).then(()=>{this.isRemove=!1,this.$emit("update",!0)})},switchNode(){let t={action:"controller"};this.nodeSn&&(t.sn=this.nodeSn,t.ip=this.nodeIp,t.mac=this.nodeMac),this.$postModule({meshInfo:t},!1).then(()=>{this.isSwitchNode=!1,this.$dispatch("main-index","reboot")})},handlerCancel(){this.updateList(!0),this.isNodeDetail=!0,this.isReboot=!1,this.isReset=!1,this.isRemove=!1,this.isSwitchNode=!1},handlerClose(){!this.isReset&&this.$emit("update",!0),this.updateList(!1)},updateOfflineData(t){this.nodeData.offlineList=t}},beforeDestroy(){this.updateList(!1)}},P=(s("fc35"),Object(a.a)(L,(function render(){var t=this,e=t._self._c;return e("div",{staticClass:"mesh-topo"},[t.CONFIG_SUPPORT_TOPO?e("mesh-legend"):t._e(),e("div",{staticClass:"mesh-topo__content"},[e("icon-list",{attrs:{"is-top":"",list:t.topo}})],1),e("mesh-button",{attrs:{"led-en":t.ledEn,showFirstMeshTip:t.showFirstMeshTip},on:{init:function(e){return t.$emit("init")}}}),e("v-dialog",{attrs:{title:t._("Node Info"),width:1085,"confirm-button-text":t._("Save"),"show-cancel":!1,"show-confirm":!1},on:{"after-close":t.handlerClose},model:{value:t.isNodeDetail,callback:function(e){t.isNodeDetail=e},expression:"isNodeDetail"}},[e("mesh-node-list",{attrs:{tableData:t.nodeList},on:{"set-options":t.setNodeOptions,submit:t.setNode,"update-list":t.updateList}}),t.nodeData.onlineList&&t.nodeData.onlineList.length>0?e("device-list",{staticClass:"device-list__table-group",attrs:{tableData:t.nodeData.onlineList,"is-router-mode":t.isRouterMode,isBlackMode:t.isBlackMode,localhost:t.localhost,blackList:t.blackList,size:"S","header-label":t._("Main Network Device")+"("+t.nodeData.onlineList.length+")"},on:{init:t.refreshDeviceList}}):t._e(),t.nodeData.guestList&&t.nodeData.guestList.length>0?e("device-list",{staticClass:"device-list__table-group",attrs:{tableData:t.nodeData.guestList,"is-router-mode":t.isRouterMode,"header-label":t._("Guest Device")+"("+t.nodeData.guestList.length+")",isBlackMode:t.isBlackMode,localhost:t.localhost,blackList:t.blackList,size:"S","is-no-limit":""},on:{init:t.refreshDeviceList}}):t._e(),t.nodeData.offlineList&&t.nodeData.offlineList.length>0?e("device-list",{staticClass:"device-list__table-group",attrs:{tableData:t.nodeData.offlineList,"is-router-mode":t.isRouterMode,"header-label":t._("Offline Device")+"("+t.nodeData.offlineList.length+")",isBlackMode:t.isBlackMode,blackList:t.blackList,size:"S","is-offline":"","is-no-limit":""},on:{init:t.refreshDeviceList,updateOffline:t.updateOfflineData}}):t._e()],1),!t.isNodeDetail&&t.isReboot?e("v-confirm-reboot",{attrs:{sn:t.nodeSn,mac:t.nodeMac,ip:t.nodeIp},on:{cancel:t.handlerCancel,"after-close":t.handlerClose,"after-callback":function(e){t.isReboot=!1}}}):t._e(),!t.isNodeDetail&&t.isReset?e("v-confirm-reset",{attrs:{sn:t.nodeSn},on:{cancel:t.handlerCancel,"after-close":t.handlerClose,"after-callback":function(e){t.isReset=!1}}}):t._e(),!t.isNodeDetail&&t.isRemove?e("v-confirm-dialog",{attrs:{title:t._("Remove Node"),tips:t._("Do you want to remove this node?")},on:{cancel:t.handlerCancel,"after-close":t.handlerClose,confirm:t.removeNode}},[e("p",[t._v(" "+t._s(t._("Removing the node will narrow the WiFi coverage, and the removed node will no longer join in the current network automatically."))+" ")])]):t._e()],1)}),[],!1,null,null,null).exports),F=s("7187"),U={props:{versionInfo:{type:Object,default:()=>({updateContent:"",updateDate:"",description:[],lang:window.B.getLang()})}},data:()=>({ignore:!1,showModal:!0,isConfirmLoading:!1}),methods:{hide(){if(this.ignore){let t={ignoreUpgrade:{ignoreUpgrade:!0}};this.$postModule(t,!1).then(()=>{this.getUpgrade()})}},handleConfirm(){this.isConfirmLoading=!0,this.$postModule({deviceVersionList:{action:"queryupgrade"}},!1).then(()=>{this.getUpdateData()})},getUpdateData(){this.$getData({modules:"deviceVersionList"}).then(t=>{let e=t.deviceVersionList.filter(({nodeType:t})=>"controller"==t)[0];if("upgrading"==e.nodeStatus)this.$emit("showProgress");else{let t=F.d[e.upgradeInfo.upErrCode];t&&this.$message.error(t),this.isConfirmLoading=!1}})},handleDescription(t){return(t[this.lang]||t.en).split("\\n")}}},A=(s("4fd9a"),Object(a.a)(U,(function render(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{width:808,title:t._("U#XGX#Firmware Upgrade"),"cancel-button-text":t._("Later"),confirmButtonText:t._("Update Now"),isLoading:t.isConfirmLoading},on:{confirm:t.handleConfirm,"after-close":t.hide},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[e("div",{staticClass:"status-upgrade-content"},[e("img",{staticClass:"status-upgrade-content__img",attrs:{src:s("795c")}}),e("div",{staticClass:"status-upgrade-content__title"},[t._v(" "+t._s(t._("New version available"))+" ")]),e("div",{staticClass:"status-upgrade-content__tips"},[e("span",[t._v(t._s(t._("Firmware version: %s",[t.versionInfo.updateContent]))+" ")]),e("span",[t._v(t._s(t._("Release date: %s",[t.versionInfo.updateDate])))])]),e("div",{staticClass:"status-upgrade-content__second-title"},[t._v(" "+t._s(t._("Upgrade Notice"))+" ")]),e("div",{staticClass:"status-upgrade-content__msg"},t._l(t.handleDescription(t.versionInfo.description),(function(s){return e("p",{key:s},[t._v(" "+t._s(s)+" ")])})),0),e("div",[e("v-checkbox",{model:{value:t.ignore,callback:function(e){t.ignore=e},expression:"ignore"}},[e("span",[t._v(t._s(t._("Never remind me of this version")))])])],1)])])}),[],!1,null,null,null).exports),$=s("e117"),G=s("5cb6"),B={components:{InternetTopo:d,ApTopo:l,MeshTopo:P,OnlineUpgrade:A,progressBar:$.a,Devices:G.default,MeshButton:I},data:()=>({isLoading:!0,isRebooting:!1,isQueryVersion:!0,meshTopoList:[],ledEn:!1,updateTimer:null,statusData:{wanStatus:{},meshNum:0,clientNum:0,wifiBasicCfg:{}},apStatus:{},onlineUpgrade:{},hasNewVersion:!1,isRouterMode:!0,showFirstMeshTip:!1,timer:null,showProgress:!1,progress:{title:_("Upgrading… Please wait"),tips:_("Do not power off the router or disconnect it from the internet during the upgrade; otherwise, the upgrade may fail or the router may be damaged.")},isApMode:!1,isRelayMode:!1}),created(){this.updateData(!0),this.getUpgrade(!0)},methods:{getData(){this.$getData({modules:"meshTopo,ledCfg,wanStatus,deviceList,wifiBasicCfg,apModeStatus,workMode,showFirstMeshTip"}).then(t=>{this.isLoading=!1,this.apStatus=t.apModeStatus,this.apStatus.deviceName=t.meshTopo.nodeName,this.statusData.wanStatus=t.wanStatus,this.statusData.wifiBasicCfg=t.wifiBasicCfg,this.isRouterMode="router"===t.workMode.workMode,this.isApMode="ap"===t.workMode.workMode,this.isRelayMode="wisp"===t.workMode.workMode||"apclient"===t.workMode.workMode,this.statusData.meshNum=(t.deviceList||[]).length;let e=0;(t.deviceList||[]).forEach(t=>{e+=(t.onlineList||[]).length+(t.guestList||[]).length}),this.statusData.clientNum=e,this.meshTopoList=[t.meshTopo],this.ledEn="enable"==t.ledCfg.ledType||"manual"==t.ledCfg.ledType&&"on"==t.ledCfg.ledStatus})},getUpgrade(t){this.isRebooting||this.$getData({modules:"deviceVersionList"}).then(e=>{if(t)return void this.checkUpgrade();let s=e.deviceVersionList.filter(({nodeType:t})=>"controller"==t)[0];"detecting"==s.nodeStatus?this.timer=setTimeout(this.getUpgrade,1e3):(this.isQueryVersion=!1,this.onlineUpgrade=s.versionInfo,this.hasNewVersion=!this.onlineUpgrade.ignoreUpgrade&&this.onlineUpgrade.hasNewSoftVersion)})},checkUpgrade(){this.$postModule({deviceVersionList:{action:"queryversion"}},!1).then(()=>{this.getUpgrade()})},onlineUpgrading(){this.hasNewVersion=!1,this.showProgress=!0},updateData(t){clearInterval(this.updateTimer),t&&(this.getData(),this.updateTimer=setInterval(this.getData,5e3))},updateRebootStatus(t){this.isRebooting=t,clearTimeout(this.timer),!t&&this.isQueryVersion&&(this.timer=setTimeout(this.getUpgrade,1e3))}},beforeDestroy(){this.updateData(!1),this.timer&&clearTimeout(this.timer)}},W=Object(a.a)(B,(function render(){var t=this,e=t._self._c;return e("div",[e("v-loading",{attrs:{visible:t.isLoading}}),t.isLoading?t._e():e("div",[e("v-title",[t._v(t._s(t._("Network Status")))]),t.isApMode?e("ap-topo",{attrs:{"status-info":t.apStatus}}):e("internet-topo",{attrs:{isRelayMode:t.isRelayMode,"status-info":t.statusData}}),t.isRelayMode?e("mesh-button",{attrs:{"led-en":t.ledEn,showFirstMeshTip:t.showFirstMeshTip,isRelayMode:t.isRelayMode},on:{init:t.getData}}):t._e(),t.isRelayMode?t._e():e("v-title",[t._v(t._s(t._("Network Topology")))]),t.isRelayMode?t._e():e("mesh-topo",{attrs:{"mesh-list":t.meshTopoList,"led-en":t.ledEn,showFirstMeshTip:t.showFirstMeshTip},on:{init:t.getData,update:t.updateData,updateRebootStatus:t.updateRebootStatus}}),t.isRelayMode?e("Devices"):t._e(),t.hasNewVersion?e("online-upgrade",{attrs:{versionInfo:t.onlineUpgrade},on:{showProgress:t.onlineUpgrading}}):t._e(),t.showProgress?e("progress-bar",{attrs:{title:t.progress.title,tips:t.progress.tips,time:2400}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=W.exports},"4fd9a":function(t,e,s){"use strict";s("bb03")},"50f0":function(t,e,s){t.exports=s.p+"img/wire-mesh-tips.png?d0c6e1f2"},"56e3":function(t,e,s){t.exports=s.p+"img/add-node-success.png?89e51eb4"},5831:function(t,e,s){var i={"./add-node-2.png":"35ff","./add-node-2_router.png":"b7a1"};function webpackContext(t){var e=webpackContextResolve(t);return s(e)}function webpackContextResolve(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}webpackContext.keys=function webpackContextKeys(){return Object.keys(i)},webpackContext.resolve=webpackContextResolve,t.exports=webpackContext,webpackContext.id="5831"},"598d":function(t,e,s){t.exports=s.p+"img/add-node-error.png?2e606bfd"},"5e65":function(t,e,s){"use strict";s("4071")},"650b":function(t,e,s){},"654b0":function(t,e,s){"use strict";var i={components:{ChildList:()=>s.e("child-list").then(s.bind(null,"10c8"))},props:{isTop:Boolean,BOX_WIDTH:{type:Number,default:40},LINE_WIDTH:{type:Number,default:96},list:Array}},o=s("0b56"),n=Object(o.a)(i,(function render(){var t=this,e=t._self._c;return e("div",{ref:"group",staticClass:"mesh-list-group"},[t._l(t.list,(function(s){return[e("child-list",{key:s.sn+"childNode",ref:"child",refInFor:!0,attrs:{"is-top":t.isTop,item:s,list:s.childNode}})]}))],2)}),[],!1,null,null,null);e.a=n.exports},"65b9":function(t,e,s){t.exports=s.p+"img/add-node-1_router.png?465e0384"},7811:function(t,e,s){t.exports=s.p+"img/add-node-3_router.png?204c44ff"},"795c":function(t,e,s){t.exports=s.p+"img/new-version.png?369f2486"},8030:function(t,e,s){"use strict";s("ee39")},8608:function(t,e,s){},"8daf":function(t,e,s){var i={"./wire-mesh-tips.png":"50f0","./wire-mesh-tips_router.png":"1918"};function webpackContext(t){var e=webpackContextResolve(t);return s(e)}function webpackContextResolve(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}webpackContext.keys=function webpackContextKeys(){return Object.keys(i)},webpackContext.resolve=webpackContextResolve,t.exports=webpackContext,webpackContext.id="8daf"},"92e3":function(t,e,s){var i={"./add-node-1.png":"f231","./add-node-1_router.png":"65b9"};function webpackContext(t){var e=webpackContextResolve(t);return s(e)}function webpackContextResolve(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}webpackContext.keys=function webpackContextKeys(){return Object.keys(i)},webpackContext.resolve=webpackContextResolve,t.exports=webpackContext,webpackContext.id="92e3"},"9b8d":function(t,e,s){},"9d9d":function(t,e,s){"use strict";s("28a2")},addc:function(t,e,s){var i={"./add-node-3.png":"1f0b","./add-node-3_router.png":"7811"};function webpackContext(t){var e=webpackContextResolve(t);return s(e)}function webpackContextResolve(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}webpackContext.keys=function webpackContextKeys(){return Object.keys(i)},webpackContext.resolve=webpackContextResolve,t.exports=webpackContext,webpackContext.id="addc"},b7a1:function(t,e,s){t.exports=s.p+"img/add-node-2_router.png?3393f672"},bb03:function(t,e,s){},bb9f:function(t,e,s){},cc1d:function(t,e,s){t.exports=s.p+"img/add-node-fail.png?2679d7f1"},d8ad:function(t,e,s){"use strict";s("8608")},e535:function(t,e,s){"use strict";s("33ee")},ee39:function(t,e,s){},f231:function(t,e,s){t.exports=s.p+"img/add-node-1.png?1754e88a"},fb33:function(t,e,s){t.exports=s.p+"img/node-sn.png?5be3e31b"},fb5c:function(t,e,s){"use strict";s("650b")},fc35:function(t,e,s){"use strict";s("bb9f")}}]);