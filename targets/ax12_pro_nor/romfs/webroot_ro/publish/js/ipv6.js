(window.webpackJsonp=window.webpackJsonp||[]).push([["ipv6"],{7025:function(e,a,n){},"88e5":function(e,a,n){"use strict";n.r(a);var t=n("d2db"),r={mixins:[t.a],data:()=>({ruleForm:{ipv6En:!1}}),methods:{changeIpv6En(e){this.$emit("change-enable",e)}}},i=n("0b56"),s=Object(i.a)(r,(function render(){var e=this,a=e._self._c;return a("v-form",{ref:e.name},[a("v-form-item",{attrs:{label:"IPv6",prop:"ipv6En"}},[a("v-switch",{on:{change:e.changeIpv6En},model:{value:e.ruleForm.ipv6En,callback:function(a){e.$set(e.ruleForm,"ipv6En",a)},expression:"ruleForm.ipv6En"}})],1)],1)}),[],!1,null,null,null).exports,o=n("710d"),l=n("5207"),p=n("05af"),w={mixins:[t.a],data(){return{WAN_TYPE_VALUE:l.e,ruleForm:{wanType:"",wanIP:[],wanPrefixLen:"",wanGateway:"",wanDns1:"",wanDns2:"",wanPPPoEUser:"",wanPPPoEPwd:"",dhcpDelegation:""},rules:{wanIP:[Object(o.e)(l.c),this.checkSameIp,this.checkSameNet],wanGateway:[Object(o.e)(l.b),this.checkSameIp,this.checkSameNet],wanDns1:[Object(o.e)(l.c),this.checkSameDns],wanDns2:[Object(o.e)(l.c),this.checkSameDns],wanPPPoEUser:Object(o.e)(p.h),wanPPPoEPwd:Object(o.e)(p.h)},wanTypeOptions:Object(o.e)(l.d)}},computed:{geteWayHeader(){return this.ruleForm.wanGateway.slice(0,4).toUpperCase()}},methods:{changeDelegation(e){this.$emit("show-lan-prefix",!e)},changeWanType(e){let a;a=e===l.e.STATIC||!this.ruleForm.dhcpDelegation,this.$emit("show-lan-prefix",a)},checkSameDns(){return this.ruleForm.wanDns1==this.ruleForm.wanDns2&&_("The primary DNS and the secondary DNS cannot be the same")},checkSameIp(){return this.ruleForm.wanIP==this.ruleForm.wanGateway?_("The default IPv6 gateway and WAN IPv6 address cannot be the same"):""},checkSameNet(){if(this.ruleForm.wanIP&&this.ruleForm.wanGateway)return Object(o.c)(this.ruleForm.wanIP,this.ruleForm.wanGateway,this.ruleForm.wanPrefixLen,this.ruleForm.wanPrefixLen)||"FE80"==this.geteWayHeader?"":_("The gateway and the IP address must be on the same network segment")}},watch:{"ruleForm.wanType":{handler(e){this.changeWanType(e)},immediate:!0},"ruleForm.dhcpDelegation":{handler(e){this.changeDelegation(e)},immediate:!0}}},m=(n("c866"),{components:{Ipv6Enable:s,Ipv6Wan:Object(i.a)(w,(function render(){var e=this,a=e._self._c;return a("v-form",{ref:e.name,attrs:{rules:e.rules}},[a("v-form-item",{attrs:{label:e._("Internet Connection Type"),prop:"wanType"}},[a("v-select",{attrs:{options:e.wanTypeOptions},model:{value:e.ruleForm.wanType,callback:function(a){e.$set(e.ruleForm,"wanType",a)},expression:"ruleForm.wanType"}})],1),a("collapse-transition",[e.ruleForm.wanType===e.WAN_TYPE_VALUE.STATIC?a("div",[a("v-form-item",{ref:"wanIP",attrs:{label:e._("IPv6 Address"),prop:"wanIP","relative-prop":"wanGateway"}},[a("v-input",{model:{value:e.ruleForm.wanIP,callback:function(a){e.$set(e.ruleForm,"wanIP",a)},expression:"ruleForm.wanIP"}}),a("span",{staticClass:"prefix-spliter"},[e._v("/")]),a("v-form-item",{staticClass:"ipv6-wan-group",attrs:{"is-no-label":"",prop:"wanPrefixLen"}},[a("v-input-number",{attrs:{width:76,"is-controls":!1,min:17,max:64},model:{value:e.ruleForm.wanPrefixLen,callback:function(a){e.$set(e.ruleForm,"wanPrefixLen",a)},expression:"ruleForm.wanPrefixLen"}})],1)],1),a("v-form-item",{attrs:{label:e._("Default IPv6 Gateway"),prop:"wanGateway","relative-prop":"wanIP"}},[a("v-input",{model:{value:e.ruleForm.wanGateway,callback:function(a){e.$set(e.ruleForm,"wanGateway",a)},expression:"ruleForm.wanGateway"}})],1),a("v-form-item",{attrs:{label:e._("Primary IPv6 DNS"),prop:"wanDns1","relative-prop":"wanDns2"}},[a("v-input",{model:{value:e.ruleForm.wanDns1,callback:function(a){e.$set(e.ruleForm,"wanDns1",a)},expression:"ruleForm.wanDns1"}})],1),a("v-form-item",{attrs:{label:e._("Secondary IPv6 DNS"),prop:"wanDns2","relative-prop":"wanDns1",required:!1}},[a("v-input",{model:{value:e.ruleForm.wanDns2,callback:function(a){e.$set(e.ruleForm,"wanDns2",a)},expression:"ruleForm.wanDns2"}})],1)],1):e._e()]),a("collapse-transition",[e.ruleForm.wanType===e.WAN_TYPE_VALUE.PPPOE?a("div",[a("v-form-item",{attrs:{label:e._("PPPoE Username"),prop:"wanPPPoEUser"}},[a("v-input",{attrs:{maxlength:128},model:{value:e.ruleForm.wanPPPoEUser,callback:function(a){e.$set(e.ruleForm,"wanPPPoEUser",a)},expression:"ruleForm.wanPPPoEUser"}})],1),a("v-form-item",{attrs:{label:e._("PPPoE Password"),prop:"wanPPPoEPwd"}},[a("v-input",{attrs:{type:"password","show-password":"",maxlength:128},model:{value:e.ruleForm.wanPPPoEPwd,callback:function(a){e.$set(e.ruleForm,"wanPPPoEPwd",a)},expression:"ruleForm.wanPPPoEPwd"}})],1)],1):e._e()])],1)}),[],!1,null,null,null).exports},data:()=>({pageTips:_("This device supports IPv6 and can access IPv6 network."),isShowSubmit:!1,ipv6Enable:{ipv6En:!1},ipv6WanCfg:{wanType:"",dhcpDelegation:!1,wanDns1:"",wanDns2:"",wanGateway:"",wanIP:[],wanPPPoEPwd:"",wanPPPoEUser:"",wanPrefixLen:""},ipv6Info:{wanIP:[],wanPrefixLen:""},ipv6LanCfg:{lanIP:[],lanPrefix:"",lanType:"",lanPrefixLen:64},ipv6LanIPArr:[],showPrefix:!1,isLoading:!0}),created(){this.getData()},methods:{getData(){this.$getData({modules:"ipv6Cfg"}).then(e=>{this.isLoading=!1,this.setData(this.ipv6Enable,e.ipv6Cfg);let a=e.ipv6Cfg.wanIP[0].split("/");e.ipv6Cfg.wanIP=a[0],e.ipv6Cfg.wanPrefixLen=a[1]||"64",this.setData(this.ipv6WanCfg,e.ipv6Cfg),this.setData(this.ipv6Info,e.ipv6Cfg),"static"!=e.ipv6Cfg.wanType&&this.resetWanData(),this.setData(this.ipv6LanCfg,e.ipv6Cfg),this.ipv6LanIPArr=e.ipv6Cfg.lanIP,this.isShowSubmit=this.ipv6Enable.ipv6En})},resetWanData(){this.ipv6WanCfg.wanGateway="",this.ipv6WanCfg.wanIP="",this.ipv6WanCfg.wanDns1="",this.ipv6WanCfg.wanDns2=""},setData(e,a){for(let n in e)void 0!==a[n]&&(e[n]=a[n])},beforeSubmit:e=>(e.ipv6WanCfg&&e.ipv6WanCfg.wanIP&&(e.ipv6WanCfg.wanIP=[e.ipv6WanCfg.wanIP+"/"+e.ipv6WanCfg.wanPrefixLen],delete e.ipv6WanCfg.wanPrefixLen),{ipv6Cfg:Object(o.e)({},e.ipv6Enable,e.ipv6WanCfg)}),submit(e){e||this.$nextTick((function(){this.$refs.page.submitForm()})),this.isShowSubmit=e},showLanPrefix(e){this.showPrefix=e},updateLanAddr(){this.$getData({modules:"ipv6Cfg"}).then(e=>{this.ipv6LanIPArr=e.ipv6Cfg.lanIP})}}}),u=Object(i.a)(m,(function render(){var e=this,a=e._self._c;return a("div",[a("v-loading",{attrs:{visible:e.isLoading}}),e.isLoading?e._e():a("v-page",{ref:"page",attrs:{"show-footer":e.isShowSubmit,"before-submit":e.beforeSubmit},on:{init:e.getData}},[a("v-page-title",{attrs:{title:e._("IPv6"),tips:e.pageTips}}),a("ipv6-enable",{attrs:{name:"ipv6Enable",formData:e.ipv6Enable},on:{"change-enable":e.submit}}),a("collapse-transition",[e.isShowSubmit?a("div",[a("v-sub-title",[e._v(e._s(e._("IPv6 WAN")))]),a("ipv6-wan",{attrs:{name:"ipv6WanCfg",formData:e.ipv6WanCfg,relativeData:e.ipv6LanCfg},on:{"show-lan-prefix":e.showLanPrefix}})],1):e._e()])],1)],1)}),[],!1,null,null,null);a.default=u.exports},c866:function(e,a,n){"use strict";n("7025")}}]);