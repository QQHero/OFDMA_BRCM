(window.webpackJsonp=window.webpackJsonp||[]).push([["workMode"],{"12f8":function(e,t,s){"use strict";s("5ec5")},"1f35":function(e,t,s){"use strict";s("e067")},2723:function(e,t,s){"use strict";s.r(t);var i=[function(){var e=this._self._c;return e("div",{staticClass:"workmode-sub-tips"},[e("img",{attrs:{src:s("5e25")}})])}],o=s("31ce"),a={components:{VConfirmDialog:o.a},props:{currentMode:String},data:()=>({showModal:!1,workMode:"router"}),methods:{changeWorkMode(){this.showModal=!0},handleSubmit(){this.$emit("change-workmode",this.workMode),this.showModal=!1},closeModal(){this.showModal=!1}}},n=(s("1f35"),s("0b56")),r=Object(n.a)(a,(function render(){var e=this,t=e._self._c;return t("div",{staticClass:"workmode-group"},[t("div",{staticClass:"workmode-title-group"},[t("div",{staticClass:"workmode-sub-title"},[e._v(e._s(e._("Router Mode")))]),e.currentMode===e.workMode?t("v-button",{staticClass:"workmode-button",attrs:{size:"S",disabled:!0}},[e._v(e._s(e._("Current Mode")))]):t("v-button",{staticClass:"workmode-button",attrs:{size:"S"},on:{click:e.changeWorkMode}},[e._v(e._s(e._("Switch Mode")))])],1),t("div",{staticClass:"help-text"},[e._v(" "+e._s(e._("Transform the wired network provided by ISP to WiFi signals for family users to share the internet."))+" ")]),e._m(0),e.showModal?t("v-confirm-dialog",{attrs:{title:e._("Tips"),tips:e._("Do you want to switch to router mode?")},on:{cancel:e.closeModal,"after-close":e.closeModal,confirm:e.handleSubmit}},[t("div",[e._v(" "+e._s(e._("1. After the router mode is enabled, the device will reboot, and the configuration takes effect after the device is rebooted."))+" ")]),t("div",[e._v(" "+e._s(e._("2. Under the router mode, you can use either the LAN IP address or tendawifi.com to log in to the web UI."))+" ")]),t("div",[e._v(" "+e._s(e._("3. Under the router mode, the Ethernet cable for internet connection can connect to the WAN port of the device, and clients can access the internet either by connecting to other Ethernet ports or WiFi network."))+" ")])]):e._e()],1)}),i,!1,null,null,null).exports,l=[function(){var e=this._self._c;return e("div",{staticClass:"workmode-sub-tips"},[e("img",{attrs:{src:s("c89d")}})])}],d={components:{VConfirmDialog:o.a},props:{currentMode:String},data:()=>({showModal:!1,workMode:"ap"}),methods:{changeWorkMode(){this.showModal=!0},handleSubmit(){this.$emit("change-workmode",this.workMode),this.showModal=!1},closeModal(){this.showModal=!1}}},c=Object(n.a)(d,(function render(){var e=this,t=e._self._c;return t("div",{staticClass:"workmode-group"},[t("div",{staticClass:"workmode-title-group"},[t("div",{staticClass:"workmode-sub-title"},[e._v(e._s(e._("AP Mode")))]),e.currentMode===e.workMode?t("v-button",{staticClass:"workmode-button",attrs:{size:"S",disabled:!0}},[e._v(e._s(e._("Current Mode")))]):t("v-button",{staticClass:"workmode-button",attrs:{size:"S"},on:{click:e.changeWorkMode}},[e._v(e._s(e._("Switch Mode")))])],1),t("div",{staticClass:"help-text"},[e._v(" "+e._s(e._("The router serves as an AP, and connects to the upstream device using an Ethernet cable to expand WiFi coverage. Under this mode, some functions are not supported. Please refer to the page."))+" ")]),e._m(0),e.showModal?t("v-confirm-dialog",{attrs:{title:e._("Tips"),tips:e._("Do you want to switch to AP mode?")},on:{cancel:e.closeModal,"after-close":e.closeModal,confirm:e.handleSubmit}},[t("div",[e._v(" "+e._s(e._("1. After the AP mode is enabled, the device will reboot, and the configuration takes effect after the device is rebooted."))+" ")]),t("div",[e._v(" "+e._s(e._("2. Under the AP mode, some functions are unavailable, such as Internet Settings, Parental Control, VPN, and Port Mapping."))+" ")]),t("div",[e._v(" "+e._s(e._("3. Under the AP mode, all Ethernet ports are LAN ports, and you can connect the device to the upstream device using any Ethernet port."))+" ")]),t("div",[e._v(" "+e._s(e._("4. Under the AP mode, please visit tendawifi.com to log in to the web UI."))+" ")])]):e._e()],1)}),l,!1,null,null,null).exports,p=[function(){var e=this._self._c;return e("div",{staticClass:"workmode-sub-tips"},[e("img",{attrs:{src:s("d12e")}})])}],h=(s("4e3f"),s("539b")),w=s("710d"),u={components:{VConfirmDialog:o.a},props:{workMode:String,currentMode:String,formData:{type:Object}},computed:{isMode(){return this.workMode===this.currentMode},isWisp(){return"wisp"===this.workMode},cryptoOption(){if(this.is6g)return Object(w.e)(h.e);return this.signalForm.wpapsk_type==h.i.WPAPSK?Object(w.e)(h.f):Object(w.e)(h.d)},bandOption(){const e=Object(w.e)(h.c);return"n"===CONFIG_WIFI_SUPPORT_6G&&e.pop(),e}},data(){return{pageWorkModel:this.currentMode,showModal:!1,loading:!1,isManual:!1,isNeedPwd:!1,is6g:!1,showTips:!1,tipConfirm:!1,rules:{ssid:h.z,password:h.u},scanResult:[],ssidDisabled:!1,signalForm:{ssid:"",wpapsk_type:"",wpapsk_crypto:"",wpapsk_key:"",wifi_chkHz:""},ssidOption:[],encryption:Object(w.e)(h.g),encryption6g:Object(w.e)(h.h),RELAY_SRC_VALUE:h.i}},watch:{formData:{handler(e){if(this.isMode){const{ssid:t,wpapsk_type:s,wpapsk_crypto:i,wpapsk_key:o,wifi_chkHz:a}=e;this.signalForm={ssid:t,wpapsk_type:s,wpapsk_crypto:i,wpapsk_key:o,wifi_chkHz:a}}},immediate:!0},showModal(e){if(e&&this.isMode){const{ssid:e,wpapsk_type:t,wpapsk_crypto:s,wpapsk_key:i,wifi_chkHz:o}=this.formData;this.signalForm={ssid:e,wpapsk_type:t,wpapsk_crypto:s,wpapsk_key:i,wifi_chkHz:o}}},"signalForm.ssid"(e){if(!e||!this.scanResult.length)return;this.clearSignalForm();const t=this.scanResult.find(({ssid:t})=>t===e);if(t){this.isManual=!1;const e=t.security;this.isNeedPwd="none"!==e&&"owe/aes"!==e}else this.isManual=!0,this.isNeedPwd=!1},"signalForm.wifi_chkHz"(e,t){this.isManual&&("2"==e?(this.is6g=!0,this.signalForm.wpapsk_type=this.signalForm.wpapsk_crypto=this.signalForm.wpapsk_key=""):("2"==t&&(this.signalForm.wpapsk_type=this.signalForm.wpapsk_crypto=this.signalForm.wpapsk_key=""),this.is6g=!1))},"signalForm.wpapsk_type"(e){this.isManual&&(this.signalForm.wpapsk_key="",e===h.i.NONE||e===h.i.WPA3SAEOWE?(this.isNeedPwd=!1,this.signalForm.wpapsk_crypto=this.signalForm.wpapsk_key=""):(e===h.i.WPAPSK&&"tkip&aes"===this.signalForm.wpapsk_crypto&&(this.signalForm.wpapsk_crypto="aes"),this.isNeedPwd=!0))}},methods:{getApScan(){this.loading=!0,this.$getData({modules:"wifiApScan"}).then(e=>{this.scanResult=this.reCreateObj(e.wifiApScan),this.loading=!1,this.setSsidOption()})},setSsidOption(){this.ssidOption=this.scanResult.map(({ssid:e,wifi_chkHz:t,signal:s,security:i})=>({label:e,value:e,wifi_chkHz:t,signal:s,security:i}))},changeWorkMode(){this.formData.meshBtnEn?this.$message.error(_("Please turn off the MESH function first")):this.isMode||this.tipConfirm?(this.showModal=!0,this.isMode?(this.ssidDisabled=!0,this.$nextTick(()=>{"none"===this.formData.security||"owe/aes"===this.formData.security?this.isNeedPwd=!1:this.isNeedPwd=!0})):this.getApScan()):this.showTips=!0},clearSignalForm(){this.signalForm.wpapsk_type=this.signalForm.wpapsk_crypto=this.signalForm.wpapsk_key=this.signalForm.wifi_chkHz=""},refresh(){this.close(),this.showModal=!0,this.pageWorkModel="",this.getApScan()},connect(){this.$refs.ssidSelect.$el.blur(),this.$refs.form.submitForm()},submit(){let e,t={},{ssid:s,wpapsk_type:i,wpapsk_crypto:o,wpapsk_key:a,wifi_chkHz:n}=this.signalForm;if(this.isManual)e=i==h.i.NONE?"none":i==h.i.WPA3SAEOWE?"owe":"wpapsk",t={workMode:this.workMode,ssid:s,security:e,wpapsk_type:i,wpapsk_crypto:o,wpapsk_key:a,wifi_chkHz:n,mac:"",handset:"1"};else{let i;if(this.workMode===this.pageWorkModel){if(i=Object(w.e)(this.formData),i.wpapsk_key===a)return this.$message.success(_("Switched mode successfully")),void this.close()}else i=this.scanResult.find(e=>s===e.ssid);e="none"==i.security?"none":"owe/aes"==i.security?"owe":"wpapsk",t={workMode:this.workMode,ssid:s,security:e,wpapsk_type:i.security.split("/")[0]||"",wpapsk_crypto:i.security.split("/")[1]||"",wpapsk_key:a,wifi_chkHz:i.wifi_chkHz,mac:i.mac,handset:"0"}}this.$emit("change-workmode",t),this.close()},close(){Object.assign(this.$data,this.$options.data.call(this))},reCreateObj(e){for(var t,s=[],i=e.length||0,o=0,a=0,n=[];o<i;o++)n[o]=e[o].signal;for(t=n.sort((function(e,t){return Number(t)-Number(e)})),o=0;o<i;o++)for(a=0;a<e.length;a++)if(t[o]==e[a].signal){s.push(e[a]),e.splice(a,1);break}return s},closeTips(){this.showTips=!1},confirm(){this.showTips=!1,this.tipConfirm=!0,this.changeWorkMode()}}},m=(s("12f8"),{components:{RouterMode:r,ApMode:c,relayMode:Object(n.a)(u,(function render(){var e=this,t=e._self._c;return t("div",{staticClass:"workmode-group"},[t("div",{staticClass:"workmode-title-group"},[t("div",{staticClass:"workmode-sub-title"},[e._v(" "+e._s(e.isWisp?e._("WISP Mode"):e._("Client+AP Mode"))+" ")]),e.isMode?t("v-button",{staticClass:"workmode-button",attrs:{size:"S"},on:{click:e.changeWorkMode}},[e._v(e._s(e._("Current Mode")))]):t("v-button",{staticClass:"workmode-button",attrs:{size:"S"},on:{click:e.changeWorkMode}},[e._v(e._s(e._("Switch Mode")))])],1),t("div",{staticClass:"help-text"},[e._v(" "+e._s(e.isWisp?e._("It is often used to expand WiFi hotspots of ISP, such as: CMCC, ChinaUnicom and ChinaNet."):e._("Expand any WiFi network easily."))+" ")]),e._m(0),e.showTips?t("v-confirm-dialog",{attrs:{title:e._("Tips"),tips:e.isWisp?e._("Do you want to switch to WISP Mode?"):e._("Do you want to switch to Client+AP Mode?")},on:{cancel:e.closeTips,"after-close":e.closeTips,confirm:e.confirm}},[e.isWisp?t("div",[t("div",[e._v(" "+e._s(e._("1. After the WISP Mode is enabled, the device will restart, and the configuration will take effect after restarting."))+" ")]),t("div",[e._v(" "+e._s(e._("2. Under the WISP Mode, functions such as guest network, IPv6 and MESH are unavailable."))+" ")]),t("div",[e._v(" "+e._s(e._("3. Under the WISP Mode, no device can be connected to the WAN port."))+" ")]),t("div",[e._v(" "+e._s(e._("4. Under the WISP Mode, please visit tendawifi.com to log in to the web UI."))+" ")])]):t("div",[t("div",[e._v(" "+e._s(e._("1. After the Client+AP Mode is enabled, the device will restart, and the configuration will take effect after restarting."))+" ")]),t("div",[e._v(" "+e._s(e._("2. Under the Client+AP Mode, functions such as Internet Settings, parental control, VPN, MESH, and port mapping will be unavailable."))+" ")]),t("div",[e._v(" "+e._s(e._("3. Under the Client+AP Mode, all Ethernet ports are LAN ports. You can connect the device to the upstream device using any port."))+" ")]),t("div",[e._v(" "+e._s(e._("4. Under the Client+AP Mode, please visit tendawifi.com to log in to the web UI."))+" ")])])]):e._e(),t("v-dialog",{staticClass:"signalChooseDialog",attrs:{title:e._("Select the WiFi to be extended"),"show-confirm":!1,"show-cancel":!1,width:560},on:{"after-close":e.close},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[t("div",[t("div",{staticClass:"signal-loading"},[t("v-loading",{attrs:{text:e._("Scanning WiFi networks..."),visible:e.loading}})],1),e.loading?e._e():t("div",{staticClass:"signal-result"},[t("v-form",{ref:"form",attrs:{rules:e.rules},on:{submit:e.submit}},[t("v-form-item",{attrs:{label:e._("Upstream WiFi Name"),prop:"ssid"}},[t("v-select",{ref:"ssidSelect",attrs:{disabled:e.ssidDisabled,options:e.ssidOption,"is-manual":"","manual-text":e._("-Manually enter the WiFi name-")},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"signal-result_select"},[t("span",{staticClass:"select-label"},[e._v(e._s(s.label))]),t("span",{staticClass:"select-band_icon"},["1"===s.wifi_chkHz?t("i",{staticClass:"icon-band5g"}):e._e(),"2"===s.wifi_chkHz?t("i",{staticClass:"icon-band6g"}):e._e()]),t("span",{staticClass:"select-signal_icon"},[s.signal>-60?t("i",{staticClass:"icon-signal4"}):e._e(),s.signal<=-60&&s.signal>-70?t("i",{staticClass:"icon-signal3"}):e._e(),s.signal<=-70&&s.signal>-80?t("i",{staticClass:"icon-signal2"}):e._e(),s.signal<=-80?t("i",{staticClass:"icon-signal1"}):e._e()]),t("span",{staticClass:"select-pwd_icon"},["none"!==s.security&&"owe/aes"!==s.security?t("i",{staticClass:"icon-need-pwd"}):e._e()])])]}}],null,!1,965503273),model:{value:e.signalForm.ssid,callback:function(t){e.$set(e.signalForm,"ssid",t)},expression:"signalForm.ssid"}}),t("i",{staticClass:"icon-relay-refresh signal-result_icon",on:{click:e.refresh}})],1),e.isManual?t("div",{staticClass:"signal-result_manual"},[t("v-form-item",{attrs:{label:e._("Band")}},[t("v-select",{attrs:{options:e.bandOption},model:{value:e.signalForm.wifi_chkHz,callback:function(t){e.$set(e.signalForm,"wifi_chkHz",t)},expression:"signalForm.wifi_chkHz"}})],1),t("v-form-item",{attrs:{label:e._("Security")}},[t("v-select",{attrs:{options:e.is6g?e.encryption6g:e.encryption},model:{value:e.signalForm.wpapsk_type,callback:function(t){e.$set(e.signalForm,"wpapsk_type",t)},expression:"signalForm.wpapsk_type"}})],1),e.isNeedPwd?t("v-form-item",{attrs:{label:e._("Encryption Rule")}},[t("v-select",{attrs:{options:e.cryptoOption},model:{value:e.signalForm.wpapsk_crypto,callback:function(t){e.$set(e.signalForm,"wpapsk_crypto",t)},expression:"signalForm.wpapsk_crypto"}})],1):e._e()],1):e._e(),e.isNeedPwd?t("v-form-item",{attrs:{label:e._("Upstream WiFi Password"),prop:"password"}},[t("v-input",{attrs:{placeholder:e._("Please enter WiFi password"),type:"password","show-password":""},model:{value:e.signalForm.wpapsk_key,callback:function(t){e.$set(e.signalForm,"wpapsk_key",t)},expression:"signalForm.wpapsk_key"}})],1):e._e(),t("v-form-item",[t("v-button",{attrs:{type:"primary"},on:{click:e.connect}},[e._v(e._s(e._("Connect")))])],1)],1),t("p",{staticClass:"signal-result_tip"},[e._v(" "+e._s(e.isWisp?e._("Note: Under the WISP Mode, please visit tendawifi.com to log in to the web UI."):e._("After enabling the AP+Client mode, the domain name of the router management UI changes to tendawifi.com."))+" ")])],1)])])],1)}),p,!1,null,"04f9fedf",null).exports},data:()=>({pageTips:_("You can select a working mode for your router based on your scenario."),workMode:"",isLoading:!0,formData:{},CONFIG_WIFI_WISP:CONFIG_WIFI_WISP,CONFIG_WIFI_SUPPORT_APCLIENT:CONFIG_WIFI_SUPPORT_APCLIENT}),created(){this.getData()},methods:{getData(){this.$getData({modules:"workMode"}).then(e=>{this.isLoading=!1,this.tr069Cfg=Object(w.e)(e.workMode),this.workMode=e.workMode.workMode,this.formData=Object(w.e)(e.workMode)})},changeWorkMode(e){let t={};t="string"==typeof e?{workMode:e}:Object(w.e)(e),this.$postModule({workMode:t},_("Switched mode successfully")).then(e=>{0==+e.errCode&&this.$dispatch("main-index","reboot",!0)})}}}),k=Object(n.a)(m,(function render(){var e=this,t=e._self._c;return t("div",[t("v-loading",{attrs:{visible:e.isLoading}}),e.isLoading?e._e():t("v-page",{ref:"page",attrs:{"show-footer":!1},on:{init:e.getData}},[t("v-page-title",{attrs:{title:e._("Working Mode"),tips:e.pageTips}}),t("router-mode",{attrs:{"current-mode":e.workMode},on:{"change-workmode":e.changeWorkMode}}),t("ap-mode",{attrs:{"current-mode":e.workMode},on:{"change-workmode":e.changeWorkMode}}),"y"===e.CONFIG_WIFI_WISP?t("relay-mode",{attrs:{"work-mode":"wisp","current-mode":e.workMode,formData:e.formData},on:{"change-workmode":e.changeWorkMode}}):e._e(),"y"===e.CONFIG_WIFI_SUPPORT_APCLIENT?t("relay-mode",{attrs:{"work-mode":"apclient","current-mode":e.workMode,formData:e.formData},on:{"change-workmode":e.changeWorkMode}}):e._e()],1)],1)}),[],!1,null,null,null);t.default=k.exports},"5e25":function(e,t,s){e.exports=s.p+"fonts/workmode-router.svg?163e772b"},"5ec5":function(e,t,s){},c89d:function(e,t,s){e.exports=s.p+"fonts/workmode-ap.svg?b486fcea"},d12e:function(e,t,s){e.exports=s.p+"fonts/workmode-relay.svg?83b48e25"},e067:function(e,t,s){}}]);