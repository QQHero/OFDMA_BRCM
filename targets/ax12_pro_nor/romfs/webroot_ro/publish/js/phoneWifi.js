(window.webpackJsonp=window.webpackJsonp||[]).push([["phoneWifi"],{"5d1f":function(t,e,i){},"76dc":function(t,e,i){"use strict";i("ceaa")},"7a24":function(t,e,i){"use strict";i("5d1f")},b1ec:function(t,e,i){"use strict";i.r(e);var s={name:"v-chart-percent",props:{type:{type:String,default:"circle",validator:t=>["circle","line"].indexOf(t)>-1},value:{type:Number,default:0},title:String,colors:{type:Array,default:()=>["#ff801f"]},colorValue:{type:Array,default:()=>[1]},backColor:{type:Array,default:()=>["#e9e9e9"]},strokeWidth:{type:Number,default:8},padding:{type:Number,default:20},width:{type:Number,default:0},height:{type:Number,default:0},showText:{type:Boolean,default:!0},textPosition:{type:String,default:"auto",validator:t=>["auto","right"].indexOf(t)>-1},textWidth:{type:Number,String:String,default:40}},data(){return this.detailHeight=34,{renderWidth:this.width,renderHeight:this.height,mounted:!1,dashArray:"0,3000",initValue:this.value,center:{x:0,y:0,r:0}}},computed:{perimeter(){return this.isCircle?2*Math.PI*(this.center.r||0):this.center.r},activeIndex(){for(let t=0;t<this.colorValue.length;t++)if(this.value<=this.colorValue[t])return t;return 0},isCircle(){return"circle"===this.type},detailWidth(){return this.isCircle?2*this.center.r:this.isTextRight?this.textWidth:this.center.r},isTextRight(){return"right"===this.textPosition}},watch:{value(){let t=this.perimeter;this.dashArray=`${this.value*t}, ${t}`}},filters:{percent:t=>(100*t).toFixed(0)+"%"},methods:{calculate(){"circle"===this.type?this.calculateCircle():this.calculateBar(),setTimeout(()=>{this.dashArray=`${this.value*this.perimeter},${this.perimeter}`},200)},calculateCircle(){let t=this.renderWidth,e=this.renderHeight,{center:i,padding:s}=this;t-=2*s,e-=2*s,i.x=s+Math.floor(t/2),i.y=s+Math.floor(e/2),i.r=Math.floor((t<e?t:e)/2),this.mounted=!0},calculateBar(){let t=this.renderWidth,e=this.renderHeight,{center:i,padding:s}=this;t-=2*s,this.isTextRight&&(t-=this.textWidth+10),i.x=s,i.y=Math.floor((e+(this.isTextRight||!this.showText?0:this.detailHeight))/2),i.r=t}},mounted(){this.renderWidth=this.width||this.$el.clientWidth,this.renderHeight=this.height||this.$el.parentNode.clientHeight,this.calculate()}},r=i("0b56"),a=Object(r.a)(s,(function render(){var t=this,e=t._self._c;return e("section",{staticClass:"v-chart__percent"},[e("svg",{attrs:{width:t.renderWidth,height:t.renderHeight,xmlns:"http://www.w3.org/2000/svg"}},["circle"===t.type?e("g",{class:{"v-chart__percent__circle":t.mounted},attrs:{name:"circle"}},[e("circle",{attrs:{name:"back",cx:t.center.x,cy:t.center.y,r:t.center.r,stroke:t.backColor[t.activeIndex%t.backColor.length],"stroke-width":t.strokeWidth,fill:"none"}}),e("circle",{staticClass:"dash-animate",attrs:{name:"back",cx:t.center.x,cy:t.center.y,r:t.center.r,stroke:t.colors[t.activeIndex%t.colors.length],"stroke-width":t.strokeWidth,"stroke-linecap":"round","stroke-dasharray":t.dashArray,fill:"none"}})]):e("g",{attrs:{name:"bar"}},[e("line",{attrs:{name:"back",x1:t.center.x,x2:t.center.x+t.center.r,y1:t.center.y,y2:t.center.y,stroke:t.backColor[t.activeIndex%t.backColor.length],"stroke-width":t.strokeWidth,"stroke-linecap":"round"}}),e("line",{staticClass:"dash-animate",attrs:{name:"line",x1:t.center.x,x2:t.center.x+t.center.r,y1:t.center.y,y2:t.center.y,stroke:t.colors[t.activeIndex%t.colors.length],"stroke-width":t.strokeWidth,"stroke-linecap":"round","stroke-dasharray":t.dashArray}})])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showText,expression:"showText"}],staticClass:"v-chart__percent__detail",class:{line:!t.isCircle,"chart-text-right":t.isTextRight},style:{width:t.detailWidth+"px"}},[t._t("default",(function(){return[e("div",{staticClass:"v-chart__percent__detail__value"},[t._v(t._s(t._f("percent")(t.value)))]),t.title?e("div",{staticClass:"v-chart__percent__detail__text"},[t._v(" "+t._s(t.title)+" ")]):t._e()]}))],2)])}),[],!1,null,null,null).exports,o={props:{isReboot:{type:Boolean,default:!1}},components:{VChartPercent:a},data:()=>({percent:0,timer:null,isConnected:!1,intervalTime:675}),methods:{handlerCancel(){this.$emit("cancel")},handlerSubmit(){this.$emit("submit")},setPercent(){clearInterval(this.timer),this.timer=setInterval(()=>{this.percent>.5&&this.getData(),this.percent<1?this.percent+=.01:(this.percent=1,this.isConnected&&(clearInterval(this.timer),window.location.href="//"+window.location.host))},this.intervalTime)},getData(){this.$getData("","/goform/getRebootStatus",!1).then(()=>{this.isConnected=!0,this.intervalTime>50&&(this.intervalTime-=20),this.setPercent()})}},beforeDestroy(){clearInterval(this.timer)},watch:{isReboot:{handler(t){t&&(this.percent=0,this.setPercent())},immediate:!0}}},n=(i("7a24"),Object(r.a)(o,(function render(){var t=this,e=t._self._c;return e("div",{staticClass:"result-page-reboot"},[e("div",{staticClass:"result-page-reboot__overlay"}),e("div",{staticClass:"result-page-reboot__content"},[e("div",{staticClass:"result-page-reboot__box"},[t.isReboot?e("div",[e("div",{staticClass:"result-page-reboot__percent"},[e("v-chart-percent",{attrs:{"stroke-width":4,padding:10,colors:["#17cc82"],value:t.percent}})],1),e("div",{staticClass:"result-page-reboot__tips"},[t._v(" "+t._s(t._("Rebootingâ€¦ Please wait about 1.5 minute"))+" ")])]):e("div",[e("div",{staticClass:"result-page-reboot__warning v-icon-remind-line"}),e("div",{staticClass:"result-page-reboot__tips"},[t._v(" "+t._s(t._("The device will reboot to make your configurations effective. Continue?"))+" ")]),e("div",{staticClass:"result-page-reboot__footer"},[e("v-button",{staticClass:"result-page-reboot__btn",attrs:{type:"info"},on:{click:t.handlerCancel}},[t._v(t._s(t._("Cancel")))]),e("v-button",{staticClass:"result-page-reboot__btn",on:{click:t.handlerSubmit}},[t._v(t._s(t._("Reboot")))])],1)])])])])}),[],!1,null,null,null).exports),c=i("539b"),l=i("7187"),h=i("05af"),d=i("710d"),f=i("7736");const u=[{type:"ascii",args:[8,32],msg:_("Length: 8 - 32 characters")}];var w={components:{ResultReboot:n},computed:{...Object(f.e)(["wifiBasicCfg","systemPwd","wanCfg"])},data:()=>({WIFI_SSID_VALID:c.z,WIFI_PWD_VALID:u,PWD_VAILD:l.e,confirmPwd:"",isSyncWifiPwd:!0,isShowReboot:!1,isReboot:!1}),methods:{...Object(f.d)(["setReboot"]),...Object(f.c)(["submitWifi"]),checkSamePwd(){if(this.systemPwd.newPassword!=this.confirmPwd)return _("Passwords mismatch")},handlerCancel(){this.isShowReboot=!1},submitForm(){"y"==window.CONFIG_SUPPORT_ISP&&this.wanCfg.ispType!==h.n.NORMAL&&this.wanCfg.ispType!==h.n.RUSSIA?(this.isShowReboot=!0,this.setReboot(!0)):(this.setReboot(!1),this.submit())},submit(){""===this.wifiBasicCfg.wifiPwd?this.wifiBasicCfg.wifiSecurityMode=c.y.NONE:this.wifiBasicCfg.wifiSecurityMode=c.y.WPA2,this.wifiBasicCfg.wifiEn_5g=this.wifiBasicCfg.wifiEn,this.wifiBasicCfg.wifiHideSSID_5g=this.wifiBasicCfg.wifiHideSSID,this.wifiBasicCfg.wifiSecurityMode_5g=this.wifiBasicCfg.wifiSecurityMode,this.wifiBasicCfg.wifiPwd_5g=this.wifiBasicCfg.wifiPwd;let t=this.wifiBasicCfg.wifiSSID;this.wifiBasicCfg.doubleBand||null==this.wifiBasicCfg.doubleBand?this.wifiBasicCfg.wifiSSID_5g=t:/(2\.4G)/gi.test(t)?this.wifiBasicCfg.wifiSSID_5g=t.replace(/(2\.4G)/gi,"5G"):this.wifiBasicCfg.wifiSSID_5g=Object(d.f)(t,29)+"_5G",this.isSyncWifiPwd&&(this.systemPwd.newPassword=this.wifiBasicCfg.wifiPwd),this.wifiBasicCfg.timeZone=Object(d.m)(),this.submitWifi(()=>{this.isShowReboot?this.isReboot=!0:this.$emit("submit")})}}},p=Object(r.a)(w,(function render(){var t=this,e=t._self._c;return e("v-form",{on:{submit:t.submitForm},scopedSlots:t._u([{key:"title",fn:function(){return[e("v-title",{attrs:{title:t._("WiFi Settings")}})]},proxy:!0}])},[e("v-form-item",{attrs:{label:t._("WiFi Name"),prop:"wifiSSID"}},[e("v-input",{attrs:{valid:t.WIFI_SSID_VALID,maxlength:29,"is-clear":""},model:{value:t.wifiBasicCfg.wifiSSID,callback:function(e){t.$set(t.wifiBasicCfg,"wifiSSID",e)},expression:"wifiBasicCfg.wifiSSID"}})],1),e("v-form-item",{attrs:{label:t._("WiFi Password")}},[e("v-input",{attrs:{type:"password","show-password":"",maxlength:32,placeholder:t._("8 - 32 characters"),valid:t.WIFI_PWD_VALID},model:{value:t.wifiBasicCfg.wifiPwd,callback:function(e){t.$set(t.wifiBasicCfg,"wifiPwd",e)},expression:"wifiBasicCfg.wifiPwd"}})],1),e("v-form-item",{attrs:{align:"left"}},[e("v-checkbox",{model:{value:t.isSyncWifiPwd,callback:function(e){t.isSyncWifiPwd=e},expression:"isSyncWifiPwd"}},[t._v(" "+t._s(t._("Set WiFi password to router login password"))+" ")])],1),t.isSyncWifiPwd?t._e():e("div",[e("v-line"),e("v-form-item",{attrs:{label:t._("Login Password")}},[e("v-input",{attrs:{type:"password",maxlength:32,placeholder:t._("5 - 32 characters"),"show-password":"",valid:t.PWD_VAILD},model:{value:t.systemPwd.newPassword,callback:function(e){t.$set(t.systemPwd,"newPassword",e)},expression:"systemPwd.newPassword"}})],1),e("v-form-item",{attrs:{label:t._("Confirm Password")}},[e("v-input",{attrs:{type:"password",maxlength:32,"show-password":"",placeholder:t._("5 - 32 characters"),valid:[t.PWD_VAILD,this.checkSamePwd]},model:{value:t.confirmPwd,callback:function(e){t.confirmPwd=e},expression:"confirmPwd"}})],1)],1),t.isShowReboot?e("result-reboot",{attrs:{"is-reboot":t.isReboot},on:{cancel:t.handlerCancel,submit:t.submit}}):t._e()],1)}),[],!1,null,null,null).exports,g={computed:{...Object(f.e)(["wifiBasicCfg","localhost","wanStatus","systemPwd"]),isWireConnect(){return"wire"===this.localhost.connectType},isInternet(){return 1==this.wanStatus.connectCode}},methods:{moreSet(){window.location.href="/login.html"}}},m=(i("76dc"),{components:{WifiSet:p,ResultPage:Object(r.a)(g,(function render(){var t=this,e=t._self._c;return e("v-form",{attrs:{"show-footer":t.isWireConnect,"submit-text":t._("More"),"show-title-line":!1},on:{submit:t.moreSet},scopedSlots:t._u([{key:"title",fn:function(){return[e("v-title",{attrs:{"show-back":!1,title:t._("Configuration completes")}})]},proxy:!0}])},[e("div",{staticClass:"phone-page-result"},[e("img",{attrs:{src:i("ab4d")}}),t.isInternet?e("div",{staticClass:"phone-page-result-text"},[t._v(" "+t._s(t._("Configuration completes. Please connect to the new WiFi network for internet access"))+" ")]):e("div",{staticClass:"phone-page-result-text"},[t._v(" "+t._s(t._("Configuration completes. Please connect to the new WiFi network"))+" ")]),e("div",[e("div",{staticClass:"phone-page-result-tips"},[t._v(t._s(t._("WiFi Name")))]),e("div",[e("div",{staticClass:"phone-page-result-title"},[t._v(t._s(t.wifiBasicCfg.wifiSSID))])])]),e("div",{staticClass:"phone-page-result-pwd"},[e("div",{staticClass:"phone-page-result-tips"},[t._v(t._s(t._("WiFi Password")))]),e("div",[e("div",{staticClass:"phone-page-result-title"},[t._v(t._s(t.wifiBasicCfg.wifiPwd))])])]),e("div",{staticClass:"phone-page-result-pwd"},[e("div",{staticClass:"phone-page-result-tips"},[t._v(t._s(t._("Login Password")))]),e("div",[e("div",{staticClass:"phone-page-result-title"},[t._v(t._s(t.systemPwd.newPassword))])])])])])}),[],!1,null,null,null).exports},data:()=>({isReboot:!0,isSetWifi:!0}),methods:{submit(){this.isSetWifi=!1}}}),v=Object(r.a)(m,(function render(){var t=this._self._c;return this.isSetWifi?t("wifi-set",{on:{submit:this.submit}}):t("result-page")}),[],!1,null,null,null);e.default=v.exports},ceaa:function(t,e,i){}}]);