(window.webpackJsonp=window.webpackJsonp||[]).push([["app"],{"943a":function(t,a,e){},daea:function(t,a,e){"use strict";e("943a")},eb34:function(t,a,e){"use strict";e.r(a);var n=e("d2db");const s=_("No internet availability. Please check the network");var i={mixins:[n.a],props:{isAccLoading:{type:Boolean,default:!1},isSnLoading:{type:Boolean,default:!1},hideAccBtn:{type:Boolean,default:!1}},data(){return{rules:{account:[this.checkAccount]}}},computed:{isInternet(){return this.formData.wanStatus}},methods:{changeCloudEn(t){if(t)this.getSn();else{if(!this.isInternet)return this.$message.error(s),void(this.formData.cloudEn=!0);this.$nextTick(()=>{this.$emit("submit")})}},getAccount(){this.$emit("getData","account")},getSn(){this.$emit("getData","sn")},checkAccount(t){let a=/^(?:\+?86)?1(?:3\d{3}|5[^4\D]\d{2}|8\d{3}|7(?:[0-35-9]\d{2}|4(?:0\d|1[0-2]|9\d))|9[0-35-9]\d{2}|6[2567]\d{2}|4(?:(?:10|4[01])\d{3}|[68]\d{4}|[579]\d{2}))\d{6}$/g;if(""!=t&&!this.verifyEmail(t)&&!this.verifyquickset(t)&&!a.test(t))return _("Invalid account. Please try again")},verifyEmail:t=>/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t),verifyquickset:t=>/^[0-9]{1,10}@(qq|wx|wb|fb|tt|gg|apl)$/.test(t),beforeSubmit(t){return this.isInternet?this.hideAccBtn||this.formData.account||!this.formData.cloudEn?t:(this.$message.error(_("Failed to save. Please obtain the cloud account first")),!1):(this.$message.error(s),!1)}}},o=(e("daea"),e("0b56")),c=Object(o.a)(i,(function render(){var t=this,a=t._self._c;return a("v-form",{ref:t.name,attrs:{rules:t.rules}},[a("v-form-item",{attrs:{label:t._("APP Remote Management"),prop:"cloudEn"}},[a("v-switch",{on:{change:t.changeCloudEn},model:{value:t.formData.cloudEn,callback:function(a){t.$set(t.formData,"cloudEn",a)},expression:"formData.cloudEn"}}),a("div",{staticClass:"help-text"},[t._v(" "+t._s(t._("Once enabled, you can remotely manage the router by Tenda WiFi app"))+" ")])],1),a("collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.formData.cloudEn,expression:"formData.cloudEn"}]},[a("v-form-item",{attrs:{label:"ID"}},[t.formData.sn||t.isSnLoading?t._e():a("v-button",{attrs:{type:"secondary"},on:{click:t.getSn}},[t._v(t._s(t._("Obtain ID")))]),t.formData.sn?a("span",[t._v(t._s(t.formData.sn))]):t._e(),!t.formData.sn&&t.isSnLoading?a("span",[a("span",{staticClass:"v-icon-loading"}),a("span",{staticClass:"loading-text"},[t._v(t._s(t._("Obtaining…")))])]):t._e()],1),a("v-form-item",{attrs:{label:t._("Cloud Account"),prop:"account"}},[t.formData.account||t.hideAccBtn?a("v-input",{attrs:{placeholder:t._("Your Tenda WiFi app account")},model:{value:t.formData.account,callback:function(a){t.$set(t.formData,"account",a)},expression:"formData.account"}}):t._e(),t.formData.account||t.isAccLoading||t.hideAccBtn?t._e():a("v-button",{attrs:{type:"secondary"},on:{click:t.getAccount}},[t._v(t._s(t._("Obtain account")))]),t.isAccLoading?a("span",[a("span",{staticClass:"v-icon-loading"}),a("span",{staticClass:"loading-text"},[t._v(t._s(t._("Obtaining…")))])]):t._e()],1)],1)])],1)}),[],!1,null,null,null).exports,u=e("eee3"),d=e("710d"),l={components:{app:c},data:()=>({pageTitle:_("APP Remote Management"),pageTips:_("Manage the router anytime, anywhere"),isloading:!0,cloudManage:{},isAccLoading:!1,isSnLoading:!1,hideAccBtn:!1,snTimer:null,accountTimer:null}),created(){this.updateData()},methods:{init(){this.updateData()},submit(){this.$refs.page.submitForm()},updateData(){this.$getData({modules:"cloudManage",action:"basic"}).then(t=>{this.cloudManage=Object(d.e)(t.cloudManage),this.isloading=!1})},getData(t){"account"==t&&(this.isAccLoading=!0,this.getAccount()),"sn"==t&&(this.isSnLoading=!0,this.getSn())},getAccount(){this.$getData({modules:"cloudManage",action:"account"}).then(t=>{if(this.cloudManage.account=t.cloudManage.account,this.cloudManage.wanStatus=t.cloudManage.wanStatus,this.cloudManage.statusCode=t.cloudManage.statusCode,"19"==t.cloudManage.statusCode&&this.cloudManage.cloudEn&&this.cloudManage.wanStatus)this.accountTimer=setTimeout(this.getAccount,2e3);else{let a=Object(u.h)(t.cloudManage.statusCode);a?this.$message.error(a):this.hideAccBtn=!0,this.isAccLoading=!1}})},getSn(){this.$getData({modules:"cloudManage",action:"sn"}).then(t=>{this.cloudManage.sn=t.cloudManage.sn,this.cloudManage.wanStatus=t.cloudManage.wanStatus,this.cloudManage.statusCode=t.cloudManage.statusCode;let a=Object(u.h)(t.cloudManage.statusCode);!a&&this.cloudManage.cloudEn&&""==this.cloudManage.sn?this.snTimer=setTimeout(this.getSn,2e3):(a&&this.cloudManage.cloudEn&&this.$message.error(a),this.isSnLoading=!1)})}},beforeDestroy(){this.accountTimer&&clearTimeout(this.accountTimer),this.snTimer&&clearTimeout(this.snTimer)}},r=Object(o.a)(l,(function render(){var t=this,a=t._self._c;return a("div",{staticClass:"app-set"},[a("v-page-title",{attrs:{title:t.pageTitle,tips:t.pageTips}}),a("v-loading",{attrs:{visible:t.isloading}}),t.isloading?t._e():a("v-page",{ref:"page",attrs:{showFooter:this.cloudManage.cloudEn},on:{init:t.init}},[a("app",{attrs:{name:"cloudManage",formData:t.cloudManage,isSnLoading:t.isSnLoading,isAccLoading:t.isAccLoading,hideAccBtn:t.hideAccBtn},on:{getData:t.getData,submit:t.submit}})],1)],1)}),[],!1,null,null,null);a.default=r.exports}}]);